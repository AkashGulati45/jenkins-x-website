<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    
    <link rel="preload" href="https://jenkins-x.io/files/muli-latin-200.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://jenkins-x.io/files/muli-latin-400.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://jenkins-x.io/files/muli-latin-800.woff2" as="font" type="font/woff2" crossorigin>
    
    <link rel="canonical" href="https://jenkins-x.io/developing/progressive-delivery/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>Progressive Delivery | Jenkins X</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.49" />

      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

    <link href='https://jenkins-x.io/dist/main.css' rel='stylesheet' type="text/css" /><script src="https://jenkins-x.io/js/chart.js"></script>
<style>
  img.avatar {
    width: 32px;
    display: inline;
  }
</style>
<meta property="og:title" content="Progressive Delivery" />
<meta property="og:description" content="Gradually rollout changes and canary releases" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jenkins-x.io/developing/progressive-delivery/" /><meta property="article:published_time" content="2017-02-01T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-08-27T16:11:30&#43;00:00"/>

<meta itemprop="name" content="Progressive Delivery">
<meta itemprop="description" content="Gradually rollout changes and canary releases">


<meta itemprop="datePublished" content="2017-02-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-02-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1071">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://jenkins-x.io/images/logo.png"/>

<meta name="twitter:title" content="Progressive Delivery"/>
<meta name="twitter:description" content="Gradually rollout changes and canary releases"/>
<meta name="twitter:site" content="@jenkinsxio"/>

        
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4216293-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-4216293-7');



var trackOutboundLink = function(id, url) {
  console.log("track:", id, url)
  gtag('event', 'click', {
    'event_category': 'outbound',
    'event_label': id,
    'transport_type': 'beacon',
    'event_callback': function(){document.location = url;}
  });
}

</script>

      
     <link href='https://jenkins-x.io/css/build_status.css' rel='stylesheet' type="text/css" />

  </head>
  <body class="ma0 sans-serif bg-primary-color-light production">
    
<nav class="bg-primary-color-dark pv4 w-100" role="navigation">

  <div class="center flex-ns flex-wrap items-center justify-start mw9">

    <h1 class="dim f3 lh-solid ml0-ns mr0 mr4-l mv0 pl3 pl4-ns">
      <a href="https://jenkins-x.io/" class="link white">
         Jenkins X
      </a>
    </h1>
    <ul class="list ma0 pa0 dn dib-l">
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins-x.io/documentation" class="dim link light-silver">
            Documentation
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins-x.io/news/" class="dim link light-silver">
            News
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins-x.io/community" class="dim link light-silver">
            Community
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://github.com/jenkins-x/jx" class="dim link light-silver">
            GitHub
              
            
            
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>

            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins.io" class="dim link light-silver">
            Jenkins
              
            
            
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>

            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins-x.io/sponsors/" class="dim link light-silver">
            Sponsors
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://jenkins-x.io/security/" class="dim link light-silver">
            Security
              
            
            
          </a>
        </li>
      
    </ul>

    <div class="db dib-ns pl3"><form id="site-search-form" action="" role="search">
  <fieldset class="bn ma0 pa0">
    <label class="clip" for="email-address">Search</label>
    <input type="search" id="search-input" class="needs-js bg-left bg-transparent bn f5 input-reset lh-solid mt3 mt0-ns pl4 pv2 w5 white" placeholder="Search the Docs" type="text" name="email-address" value="" style="background-image:url('/images/icon-search.png');background-size:16px 16px;">
  </fieldset>
</form>
</div>

    <div class="list ma0 pa0 dn dib-l"></div>

    <span class="absolute mt1 mt2-l pr3 right-0 top-0">

  <a href="https://twitter.com/intent/follow?screen_name=jenkinsxio" title="Follow on Twitter" class="link-transition twitter link dib z-999 pt3 pt0-l mr2">
    <svg height="32px" id="Layer_1" style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>

<a class="github-button needs-js link primary-color-dark" href="https://github.com/jenkins-x/jx" data-size="large" data-show-count="false" aria-label="Star jenkins-x/jx on GitHub">Star</a>
</span>

  </div>
</nav>

    
    <main role="main" class="content-with-sidebar min-vh-100 pb7 pb0-ns">
      
  <article class="w-100 ph4 pb5 pb6-ns pt1 pt5-ns">
    <div class="flex-l">

      <div class="order-2 w-100 w-20-l ph5-m ph0-l mb4 sticky">
<aside class="fixed-lTK mw5-l right-0 f6 bl-l b--moon-gray pv4 pv0-ns ph4-l nested-list-reset nested-links nested-copy-line-height">
	
		<p class="b">What&#39;s on this Page</p>
  	<nav id="TableOfContents">
<ul>
<li><a href="#jenkins-x-promotion-with-canaries">Jenkins X Promotion with Canaries</a>
<ul>
<li><a href="#dashboard">Dashboard</a></li>
<li><a href="#caveats">Caveats</a></li>
</ul></li>
</ul>
</nav>
	

	<div date-pref>
		
			<a href="https://jenkins-x.io/developing/continuous-integrating-jx-itself/" class="dib f6 pl1 hover-bg-light-gray br-100" title="Continuous Integrating JX itself ">
				<svg class="fill-current" height="30px" viewBox="0 0 24 24" width="30px" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>

			</a>
		

		
			<a href="https://jenkins-x.io/developing/serverless-apps/" class="dib f6 pr1 hover-bg-light-gray br-100" title="Serverless Apps">
			<svg class="fill-current" height="30px" viewBox="0 0 24 24" width="30px" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>

			</a>
		
	</div>

</aside>
</div>

      <div class="order-1 w-60-l mw7 ph0 ph5-ns mid-gray nested-copy-line-height no-underline nested-links nested-img nested-copy-seperator nested-blockquote mt0-ns">
        <div class="documentation-copy center measure-wide-l">
          <div id="readout" class="fixed right-0 bottom-0">
          </div>
          <header class="flex-none w-100">
  <a href="https://github.com/jenkins-x/jx-docs/edit/master/content/developing/progressive-delivery.md" class="
f6 ph3 pv1 br2 dib  tc ttu mv3 bg-primary-color white hover-bg-green link
 page-edit">Improve this page</a>

  
  <h1 class="lh-title mb3 mv0 pt3 primary-color-dark">Progressive Delivery</h1>
</header>

<aside class="bt bw1 pt3 mt2 mid-gray b--mid-gray fn w-100">
  
    <div class="f4 fw4 lh-copy">
      Gradually rollout changes and canary releases
    </div>
  

  
</aside>



<div class="prose" id="prose">



<p>It&rsquo;s likely you have heard of &ldquo;blue green deployment&rdquo; or &ldquo;canary deployment&rdquo;. The idea is to carefully roll out new versions of your application, if problems happen (gasp!) in production, then the system will automatically roll them back, and the majority of users will not be impacted.</p>

<p>This has become a popular CD technique over the years.</p>

<p>As Jenkins X runs on top of Kubernetes, there are some additional built in protections about starting new versions: if a new application fails to start, it is likely that it will never really make it to production, this is a good thing! And you get it for free!</p>

<p>Progressive Delivery takes this a bit further: changes can be rolled out to a small percentage of users or traffic (say 1%) and then progressively released to more users (say 5%) before the delivery is considered complete.</p>

<blockquote>
<p><strong>Progressive Delivery</strong> makes it easier to adopt Continuous Delivery, by deploying new versions to a subset of users and evaluating their correctness and performance before rolling them to the totality of the users, and rolled back if not matching some key metrics.</p>
</blockquote>

<p>Progressive Delivery is used by Netflix, Facebook and others to reduce the risk of deployments. But you can now adopt it when using Jenkins X.</p>

<p>In particular we focused on Canary releases and made it really easy to adopt them in your Jenkins X applications. Canary releases consist on sending a small percentage of traffic to the new version of your application and validate there are no errors before rolling it out to the rest of the users. Facebook does it this way, delivering new versions first to internal employees, then a small percentage of the users, then everybody else, but you don’t need to be Facebook to take advantage of it!</p>

<p>You can <a href="https://martinfowler.com/bliki/CanaryRelease.html">read more on Canaries at Martin Fowler’s website</a>.</p>

<h1 id="jenkins-x-promotion-with-canaries">Jenkins X Promotion with Canaries</h1>

<p>If you already have an application in Jenkins X you know that you can promote it to the <em>production</em> environment with <code>jx promote myapp --version 1.0 --env production</code>. But it can also be automatically and gradually rolled it out to a percentage of users while checking that the new version is not failing. If that happens the application will be automatically rolled back. No human intervention at all during the process.</p>

<p>As the first step three Jenkins X addons need to be installed:</p>

<ul>
<li><a href="https://istio.io/">Istio</a>: <a href="https://istio.io/docs/concepts/what-is-istio/">a service mesh</a> that allows us to manage traffic to our services.</li>
<li><a href="https://github.com/weaveworks/flagger">Flagger</a>: a project that uses Istio to automate canarying and rollbacks using metrics from Prometheus.</li>
</ul>

<p>The addons can be installed with</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">jx create addon istio --version <span class="m">1</span>.1.7
jx create addon flagger</code></pre></div>
<p>This will enable Istio in the <strong>jx-production</strong> namespace for metrics gathering.</p>

<p>Now get the ip of the Istio ingress and point a wildcard domain to it (e.g. <code>*.example.com</code>), so we can use it to route multiple services based on host names. The Istio ingress provides the routing capabilities needed for Canary releases (traffic shifting) that the traditional Kubernetes ingress objects do not support.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">kubectl -n istio-system get service istio-ingressgateway <span class="se">\
</span><span class="se"></span>-o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span></code></pre></div>
<p>The cluster is configured, and it’s time to configure our application. Add a <code>canary.yaml</code> to your helm chart, under <code>charts/myapp/templates</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">{{-<span class="w"> </span>if<span class="w"> </span>eq<span class="w"> </span>.Release.Namespace<span class="w"> </span><span class="s2">&#34;jx-production&#34;</span><span class="w"> </span>}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>if<span class="w"> </span>.Values.canary.enable<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>apiVersion<span class="p">:</span><span class="w"> </span>flagger.app/v1alpha2<span class="w">
</span><span class="w"></span>kind<span class="p">:</span><span class="w"> </span>Canary<span class="w">
</span><span class="w"></span>metadata<span class="p">:</span><span class="w">
</span><span class="w">  </span>name<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>template<span class="w"> </span><span class="s2">&#34;fullname&#34;</span><span class="w"> </span>.<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>spec<span class="p">:</span><span class="w">
</span><span class="w">  </span>targetRef<span class="p">:</span><span class="w">
</span><span class="w">    </span>apiVersion<span class="p">:</span><span class="w"> </span>apps/v1<span class="w">
</span><span class="w">    </span>kind<span class="p">:</span><span class="w"> </span>Deployment<span class="w">
</span><span class="w">    </span>name<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>template<span class="w"> </span><span class="s2">&#34;fullname&#34;</span><span class="w"> </span>.<span class="w"> </span>}}<span class="w">
</span><span class="w">  </span>progressDeadlineSeconds<span class="p">:</span><span class="w"> </span><span class="m">60</span><span class="w">
</span><span class="w">  </span>service<span class="p">:</span><span class="w">
</span><span class="w">    </span>port<span class="p">:</span><span class="w"> </span>{{.Values.service.internalPort}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>if<span class="w"> </span>.Values.canary.service.gateways<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>gateways<span class="p">:</span><span class="w">
</span><span class="w"></span>{{<span class="w"> </span>toYaml<span class="w"> </span>.Values.canary.service.gateways<span class="w"> </span><span class="sd">| indent 4 }}</span><span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>end<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>if<span class="w"> </span>.Values.canary.service.hosts<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>hosts<span class="p">:</span><span class="w">
</span><span class="w"></span>{{<span class="w"> </span>toYaml<span class="w"> </span>.Values.canary.service.hosts<span class="w"> </span><span class="sd">| indent 4 }}</span><span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>end<span class="w"> </span>}}<span class="w">
</span><span class="w">  </span>canaryAnalysis<span class="p">:</span><span class="w">
</span><span class="w">    </span>interval<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>.Values.canary.canaryAnalysis.interval<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>threshold<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>.Values.canary.canaryAnalysis.threshold<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>maxWeight<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>.Values.canary.canaryAnalysis.maxWeight<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>stepWeight<span class="p">:</span><span class="w"> </span>{{<span class="w"> </span>.Values.canary.canaryAnalysis.stepWeight<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>if<span class="w"> </span>.Values.canary.canaryAnalysis.metrics<span class="w"> </span>}}<span class="w">
</span><span class="w">    </span>metrics<span class="p">:</span><span class="w">
</span><span class="w"></span>{{<span class="w"> </span>toYaml<span class="w"> </span>.Values.canary.canaryAnalysis.metrics<span class="w"> </span><span class="sd">| indent 4 }}</span><span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>end<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>end<span class="w"> </span>}}<span class="w">
</span><span class="w"></span>{{-<span class="w"> </span>end<span class="w"> </span>}}</code></pre></div>
<p>Then append to the <code>charts/myapp/values.yaml</code> the following, changing <code>myapp.example.com</code> to your host name or names:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">canary<span class="p">:</span><span class="w">
</span><span class="w">  </span>enable<span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span>service<span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="c"># Istio virtual service host names</span><span class="w">
</span><span class="w">    </span>hosts<span class="p">:</span><span class="w">
</span><span class="w">    </span>-<span class="w"> </span>myapp.example.com<span class="w">
</span><span class="w">    </span>gateways<span class="p">:</span><span class="w">
</span><span class="w">    </span>-<span class="w"> </span>jx-gateway.istio-system.svc.cluster.local<span class="w">
</span><span class="w">  </span>canaryAnalysis<span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="c"># schedule interval (default 60s)</span><span class="w">
</span><span class="w">    </span>interval<span class="p">:</span><span class="w"> </span>60s<span class="w">
</span><span class="w">    </span><span class="c"># max number of failed metric checks before rollback</span><span class="w">
</span><span class="w">    </span>threshold<span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="w">
</span><span class="w">    </span><span class="c"># max traffic percentage routed to canary</span><span class="w">
</span><span class="w">    </span><span class="c"># percentage (0-100)</span><span class="w">
</span><span class="w">    </span>maxWeight<span class="p">:</span><span class="w"> </span><span class="m">50</span><span class="w">
</span><span class="w">    </span><span class="c"># canary increment step</span><span class="w">
</span><span class="w">    </span><span class="c"># percentage (0-100)</span><span class="w">
</span><span class="w">    </span>stepWeight<span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span><span class="w">    </span>metrics<span class="p">:</span><span class="w">
</span><span class="w">    </span>-<span class="w"> </span>name<span class="p">:</span><span class="w"> </span>request-success-rate<span class="w">
</span><span class="w">      </span><span class="c"># minimum req success rate (non 5xx responses)</span><span class="w">
</span><span class="w">      </span><span class="c"># percentage (0-100)</span><span class="w">
</span><span class="w">      </span>threshold<span class="p">:</span><span class="w"> </span><span class="m">99</span><span class="w">
</span><span class="w">      </span>interval<span class="p">:</span><span class="w"> </span>60s<span class="w">
</span><span class="w">    </span>-<span class="w"> </span>name<span class="p">:</span><span class="w"> </span>request-duration<span class="w">
</span><span class="w">      </span><span class="c"># maximum req duration P99</span><span class="w">
</span><span class="w">      </span><span class="c"># milliseconds</span><span class="w">
</span><span class="w">      </span>threshold<span class="p">:</span><span class="w"> </span><span class="m">500</span><span class="w">
</span><span class="w">      </span>interval<span class="p">:</span><span class="w"> </span>60s</code></pre></div>
<p>That’s it! Now when the app is promoted to the production environment with <code>jx promote myapp --version 1.0 --env production</code> it will do a Canary rollout. Note that the first time it is promoted it will not do a Canary as it needs a previous version data to compare to, but it will work from the second promotion on.</p>

<p>With the configuration in the values.yaml file above it would look like:</p>

<ul>
<li>minute 1: send 10% of the traffic to the new version</li>
<li>minute 2: send 20% of the traffic to the new version</li>
<li>minute 3: send 30% of the traffic to the new version</li>
<li>minute 4: send 40% of the traffic to the new version</li>
<li>minute 5: send 100% of the traffic to the new version</li>
</ul>

<p>If the metrics we have configured (request duration over 500 milliseconds or more than 1% responses returning 500 errors) fail, Flagger then will note that failure, and if it is repeated 5 times it will rollback the release, sending 100% of the traffic to the old version.</p>

<p>To get the Canary events run</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">$ kubectl -n jx-production get events --watch <span class="se">\
</span><span class="se"></span>  --field-selector involvedObject.kind<span class="o">=</span>Canary
LAST SEEN   FIRST SEEN   COUNT   NAME                                                  KIND     SUBOBJECT   TYPE     REASON   SOURCE    MESSAGE
23m         10d          <span class="m">7</span>       jx-production-myapp.1584d8fbf5c306ee   Canary               Normal   Synced   flagger   New revision detected! Scaling up jx-production-myapp.jx-production
22m         10d          <span class="m">8</span>       jx-production-myapp.1584d89a36d2e2f2   Canary               Normal   Synced   flagger   Starting canary analysis <span class="k">for</span> jx-production-myapp.jx-production
22m         10d          <span class="m">8</span>       jx-production-myapp.1584d89a38592636   Canary               Normal   Synced   flagger   Advance jx-production-myapp.jx-production canary weight <span class="m">10</span>
21m         10d          <span class="m">7</span>       jx-production-myapp.1584d917ed63f6ec   Canary               Normal   Synced   flagger   Advance jx-production-myapp.jx-production canary weight <span class="m">20</span>
20m         10d          <span class="m">7</span>       jx-production-myapp.1584d925d801faa0   Canary               Normal   Synced   flagger   Advance jx-production-myapp.jx-production canary weight <span class="m">30</span>
19m         10d          <span class="m">7</span>       jx-production-myapp.1584d933da5f218e   Canary               Normal   Synced   flagger   Advance jx-production-myapp.jx-production canary weight <span class="m">40</span>
18m         10d          <span class="m">6</span>       jx-production-myapp.1584d941d4cb21e8   Canary               Normal   Synced   flagger   Advance jx-production-myapp.jx-production canary weight <span class="m">50</span>
18m         10d          <span class="m">6</span>       jx-production-myapp.1584d941d4cbc55b   Canary               Normal   Synced   flagger   Copying jx-production-myapp.jx-production template spec to jx-production-myapp-primary.jx-production
17m         10d          <span class="m">6</span>       jx-production-myapp.1584d94fd1218ebc   Canary               Normal   Synced   flagger   Promotion completed! Scaling down jx-production-myapp.jx-production</code></pre></div>
<h2 id="dashboard">Dashboard</h2>

<p>Flagger includes a Grafana dashboard for visualization purposes as it is not needed for the Canary releases. It can be accessed locally using Kubernetes port forwarding</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">kubectl --namespace istio-system port-forward deploy/flagger-grafana <span class="m">3000</span></code></pre></div>
<p>Then accessing <a href="http://localhost:3000">http://localhost:3000</a> using admin/admin, selecting the canary-analysis dashboard and</p>

<ul>
<li>namespace: jx-production</li>
<li>primary: jx-production-myapp-primary</li>
<li>canary: jx-production-myapp</li>
</ul>

<p>would provide us with a view of different metrics (cpu, memory, request duration, response errors,…) of the incumbent and new versions side by side.</p>

<p><img src="https://jenkins-x.io/images/grafana-canary-analysis.png" class="img-thumbnail"></p>

<h2 id="caveats">Caveats</h2>

<p>Note that Istio 1.0.x by default will prevent access from your pods to the outside of the cluster, a behavior that has changed in Istio 1.1. <a href="https://istio.io/docs/tasks/traffic-management/egress/">Learn how to control the Istio egress traffic</a>.</p>

<p>If a rollback happens automatically because the metrics fail, the Jenkins X GitOps repository for the production environment becomes out of date, still using the new version instead of the old one. This is something planned to be fixed in next releases.</p>

</div>

          


        </div>
      </div>
      <div class="order-0 w-20 dn db-l">
        
<nav role="navigation">
  <ul class="list pa0 nl2">
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".about">About Jenkins X</a>

          
            <ul class="about desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Overview
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/features/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Features
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/what/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    What Is Jenkins X
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/accelerate/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Accelerate
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/concepts/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Concepts
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/decisions/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Decisions
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/license/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    License
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/about/status/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Status
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".getting-started">Getting Started</a>

          
            <ul class="getting-started desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Get Started Overview
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/tutorials/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Tutorials
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/install/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Install Jenkins X
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/create-cluster/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create new Cluster
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/upgrade-jx/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Upgrading Jenkins X
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/install-on-cluster/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Install on Kubernetes
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/install-on-cluster-what-happens/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    What happens during installation
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/manage-via-gitops/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Manage by GitOps
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/multi-cluster/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Multiple Clusters
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/next/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    What&#39;s next?
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/config/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Configuration
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/create-custom-builder/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create custom Builder
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/aws-terraform-install-gitops/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create EKS cluster on AWS
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/getting-started/boot/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Jenkins X Boot
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2  primary-color" data-target=".developing">Developing</a>

          
            <ul class="developing desktopmenu animated fadeIn list pl0 bg-light-gray db">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Getting Started
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/create-spring/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Spring Boot
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/create-mlquickstart/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create MLquickstart
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/create-quickstart/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Quickstart
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/create-camel/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Camel
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/import/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Import
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/browsing/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Browsing
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/kube-context/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Kubernetes Context
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/promote/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Promote
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/preview/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Preview Environments
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/ide/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    IDE
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/devpods/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Dev Pods
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/git/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Git Servers
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/issues/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Issues
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/security-features/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Security Features
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/progressive-delivery/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 primary-color ">
                    Progressive Delivery
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/serverless-apps/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Serverless Apps
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".demos">Demos</a>

          
            <ul class="demos desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Demos
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/articles/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Articles
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/talks/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Talks and Conferences
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/create_cluster/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Cluster
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/create_cluster_gke/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Cluster GKE
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/create_spring/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Create Spring
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/image-security/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Docker Image CVE Scanning
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/kubecon-2018/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    KubeCon 2018 Demo
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/demos/devoxx-uk-2018/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    DevOxx UK 2018 Demo
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".architecture">Architecture</a>

          
            <ul class="architecture desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Architecture
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/diagram/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Diagram
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/components/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Components
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/source/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Source
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/jenkins-x-pipelines/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Jenkins X Pipelines
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/pipeline-syntax-reference/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Jenkins X Pipeline Syntax Reference
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/build-packs/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Build Packs
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/custom-resources/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Custom Resources
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/cloud-native-jenkins/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Cloud Native Jenkins
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/prow/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Prow
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/lighthouse/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Lighthouse
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/pod-templates/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Pod Templates
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/storage/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Storage
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/version-stream/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Version Stream
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/dns/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    DNS
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/docker-registry/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Docker Registry
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/access-control/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Access Control
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/architecture/custom-jenkins/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Custom Jenkins Servers
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".apps">Extending</a>

          
            <ul class="apps desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/apps/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Apps Framework
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/apps/plugins/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Binary Plugins
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="https://jenkins-x.io/apidocs/" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".api">API</a>

          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="https://jenkins-x.io/commands/jx/" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".commands">CLI</a>

          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".faq">FAQ</a>

          
            <ul class="faq desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    FAQ Overview
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/faq/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    General Questions
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/setup/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Setup Questions
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/issues/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Common Problems
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/technology/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Technology Questions
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/develop/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Development Questions
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/faq/pipelines/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Jenkins X Pipelines Questions
                  </a>
                </li>
              
            </ul>
          
        </li>
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".contribute">Contribute</a>

          
            <ul class="contribute desktopmenu animated fadeIn list pl0 bg-light-gray dn">
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Contribute to Jenkins X
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/development/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Development
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/apidocs/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    API Documentation
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/documentation/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Documentation
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/roadmap/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Planned Features
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/contribute_dns/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    DNS for contributors
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/pullrequestreview/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Pull Request Reviews
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/contribute/triage/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Triaging issues
                  </a>
                </li>
              
                <li  class="f6 fw4">
                  <a href="https://jenkins-x.io/developing/continuous-integrating-jx-itself/" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
                    Continuous Integrating JX itself
                  </a>
                </li>
              
            </ul>
          
        </li>
    
  </ul>
</nav>

      </div>

    </div>
  </article>

  <div class="w-100 bg-light-gray">
    <div class="mw7 pa4 center nested-lh-copy lh-copy">
      <h6 class="f4 dark-gray mb2">
  <a href="https://jenkins-x.io/developing/progressive-delivery/" class="hide-child link primary-color">
  <span class="nl3 child"><svg class="grow" fill="" height="14px" viewBox="0 0 24 24" width="14px" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>
</span>
    “Progressive Delivery”
  </a> was last updated: August 27, 2019: <a class="hide-child link primary-color" href="https://github.com/jenkins-x/jx-docs//commit/0c69321f5c3c81777d044360d3995875be8ac1f1">release 0.0.812 (0c69321)</a>
</h6>

      


    </div>
  </div>

    </main>

    <footer class="bg-primary-color-dark ph4-ns pt4 relative w-100" role="contentinfo">
  <div class="center flex-ns flex-wrap justify-between mw9 w-90">
    <div class="pb3 pt4 w-100 w-50-ns">

      <div class="b f3  light-gray mb3 nested-links tc">
        By the <a href="https://github.com/jenkins-x/jx/contributors" class="link">Jenkins X Authors</a><br/>
      </div>

      <ul class="center f6 list ma0 mv3 pa0 tc"><li class="dib mr3"><a href="https://github.com/jenkins-x/jx/issues/new" class="dim link light-gray pv2">File an Issue</a></li><li class="dib mr3"><a href="https://jenkins-x.io/community" class="dim link light-gray pv2">Get Help</a></li><li class="dib"><a href="https://jenkins-x.io/community" class="dim link light-gray pv2">Discuss Source Code</a></li></ul>

      <ul class="center f6 list ma0 mv4 pa0 tc">
        <li class="dib mr3"><a href="https://twitter.com/jenkinsxio" class="dim link light-gray pv2">@jenkinsxio</a>
        </li>
      </ul>

      
    </div>

    <div> 
      <img src="https://jenkins-x.io/images/logo.svg" width="100" height="100" />
    </div>

  </div>

  <div class="f7 gray mb5 mb0-ns ph3 w-100"> 
    <p class="dib mr4">Jenkins&reg; is a registered trademark of <a href="https://www.spi-inc.org/" class="link">Software in the Public Interest, Inc.</a></p>
    <p class="dib">Copyright 2018–2019 the original authors.</p>
  </div>


  <div class="bg-primary-color-dark bottom-0 left-0 right-0 dn-l fixed pb3 ph3 w-100"><div  class="globalmenu mobilemenu pb3 dn">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/documentation" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Documentation
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/news/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          News
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/community" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Community
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://github.com/jenkins-x/jx" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          GitHub
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins.io" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Jenkins
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/sponsors/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Sponsors
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/security/" class="ttu f6 link primary-color-light overflow hover-white db brand-font  ma0 w-100 pv3 ph4">
          Security
        </a>
    </li>
  
</ul>

</div>
<div  class="docsmenu mobilemenu pb3 dn">
    

<ul class="list dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/about/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          About Jenkins X
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="https://jenkins-x.io/getting-started/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Getting Started
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="https://jenkins-x.io/developing/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Developing
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="https://jenkins-x.io/demos/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Demos
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="https://jenkins-x.io/architecture/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Architecture
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100 mb2 bb b--mid-gray">
        <a href="https://jenkins-x.io/apps/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Extending
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/apidocs/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          API
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/commands/jx/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          CLI
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/faq/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          FAQ
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-black w-100">
        <a href="https://jenkins-x.io/contribute/" class="ttu f6 link primary-color-light  hover-white db brand-font mb1  ma0 w-100 pv2 ph4">
          Contribute
        </a>
    </li>
  
</ul>

</div>

<div class="flex dn-l justify-between">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt4-ns ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Menu</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt4-ns ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Docs Menu</button>
</div>
</div>

</footer>

    <script src="https://jenkins-x.io/dist/app.bundle.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>


<script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/d0c128ac1f69ba2bb20742976/9159f4f527ec7e8e4d019eb5c.js");</script>
<script>
    !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
    },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
    a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
    
    twq('init','o14ln');
    twq('track','PageView');
 </script>

  </body>
</html>
