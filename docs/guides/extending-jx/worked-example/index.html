<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.65.3" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Worked Example | Jenkins X - Cloud Native CI/CD Built On Kubernetes</title><meta property="og:title" content="Worked Example" />
<meta property="og:description" content="Implement support for JUnit Test reports in Jenkins X" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jenkins-x.io/docs/guides/extending-jx/worked-example/" />
<meta property="article:modified_time" content="2020-06-09T09:32:48+00:00" /><meta property="og:site_name" content="Jenkins X - Cloud Native CI/CD Built On Kubernetes" />
<meta itemprop="name" content="Worked Example">
<meta itemprop="description" content="Implement support for JUnit Test reports in Jenkins X">
<meta itemprop="dateModified" content="2020-06-09T09:32:48&#43;00:00" />
<meta itemprop="wordCount" content="3230">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Worked Example"/>
<meta name="twitter:description" content="Implement support for JUnit Test reports in Jenkins X"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-4216293-7', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="/scss/main.min.b69acb1d339a77fb52a19eb1422bc1e8cceea6faa05f8ff68bdd3cf71dffd364.css" as="style">
<link href="/scss/main.min.b69acb1d339a77fb52a19eb1422bc1e8cceea6faa05f8ff68bdd3cf71dffd364.css" rel="stylesheet" integrity="">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/monokai.min.css">
<link rel="stylesheet" href='https://jenkins-x.io/css/style.css' />

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


    <title>Worked Example | Jenkins X - Cloud Native CI/CD Built On Kubernetes</title>
  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand-lg navbar-light bg-light flex-column flex-md-row td-navbar">
	<a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 994.2 203.9" style="enable-background:new 0 0 994.2 203.9"><style>.st0{fill:#73c3d5}.st1{fill:#ef8949}.st2{fill:#ff7f40}.st3{fill-rule:evenodd;clip-rule:evenodd;fill:#73c3d5}.st4{fill-rule:evenodd;clip-rule:evenodd;fill:#ff7f40}</style><g><g><path class="st0" d="M387.3 62.1v58c0 11.8-9.6 21.3-21.4 21.3h-36.5c-11.8.0-21.4-9.5-21.4-21.3v-14.9h14.2v14.9c0 4 3.3 7.3 7.3 7.3h36.5c4 0 7.3-3.3 7.3-7.3v-58H387.3z"/><path class="st0" d="M412.9 83.6V91H464v14.2h-51.1v15c0 4 3.3 7.3 7.3 7.3h58v14.2h-58c-11.8.0-21.3-9.6-21.3-21.4V83.6c0-11.8 9.5-21.4 21.3-21.4h58v14.2h-58C416.1 76.3 412.9 79.6 412.9 83.6"/><polygon class="st0" points="568.9,62.2 568.9,141.7 554.7,130.8 503.6,91.4 503.6,141.7 489.5,141.7 489.5,62.5 503.6,73.3 554.7,112.7 554.7,62.1"/><polygon class="st0" points="624.9,94 659.3,141.5 641.8,141.5 614.4,103.6 594.3,121.9 594.3,141.5 580.1,141.5 580.1,62.1 594.3,62.1 594.3,102.7 606,92.1 616.5,82.4 638.7,62.1 659.7,62.1"/><rect x="671" y="62.1" class="st0" width="14.2" height="79.4"/><polygon class="st0" points="776,62.2 776,141.7 761.8,130.8 710.7,91.4 710.7,141.7 696.5,141.7 696.5,62.5 710.7,73.3 761.8,112.7 761.8,62.1"/><path class="st0" d="M848.2 84.1v-.5c0-4-3.3-7.3-7.3-7.3h-32.2c-4 0-7.3 3.3-7.3 7.3v.5c0 4 3.3 7.3 7.3 7.3h28.6c7.4.0 14 3.2 18.5 8.2.3.3.6.7.9 1 3.5 4.3 5.7 9.9 5.7 15.9.0 13.8-11.2 25.1-25.1 25.1h-24.8c-13.8.0-25.1-11.2-25.1-25.1h14.2c0 6 4.9 10.9 10.9 10.9h24.8c6 0 11-4.9 11-10.9s-5-10.9-11-10.9h-28.6c-5.8.0-11-2.3-14.9-6-1-1-1.9-2.2-2.7-3.4-2.4-3.4-3.7-7.6-3.7-12.1v-.5c0-11.8 9.5-21.4 21.3-21.4H841c11.8.0 21.4 9.6 21.4 21.4V84L848.2 84.1z"/><polygon class="st1" points="870.9,141.7 871.2,141.7 870.9,141.9"/><polygon class="st2" points="955.7,102 981.7,68.4 994.2,52.2 973.7,52.2 973.5,52.2 955.7,52.2 950.7,52.2 947.7,56.1 933.9,74 920.1,56.1 917.1,52.2 912.1,52.2 894.2,52.2 873.7,52.2 886.2,68.4 912.2,102.1 886.4,135.5 874,151.7 894.4,151.7 912.3,151.7 917.3,151.7 920.3,147.8 934,130.1 947.7,147.8 950.7,151.7 955.7,151.7 973.6,151.7 994.1,151.7 981.6,135.5"/><polygon class="st1" points="956.4,141.9 956.3,141.7 956.4,141.7"/></g><g><g><g><path class="st3" d="M98.2 83.9c8.7.0 15.7 7 15.7 15.7s-7 15.7-15.7 15.7-15.7-7-15.7-15.7C82.5 91 89.5 83.9 98.2 83.9"/><path class="st2" d="M98.2 76.2c6.5.0 12.3 2.6 16.6 6.9 4.2 4.2 6.9 10.1 6.9 16.6.0 6.5-2.6 12.3-6.9 16.6-4.2 4.2-10.1 6.8-16.6 6.8s-12.3-2.6-16.5-6.8-6.9-10.1-6.9-16.6 2.6-12.3 6.9-16.6C85.9 78.8 91.7 76.2 98.2 76.2M112.6 85.2c-3.7-3.7-8.8-6-14.4-6-5.6.0-10.7 2.3-14.4 6s-6 8.8-6 14.4c0 5.6 2.3 10.7 6 14.4s8.8 6 14.4 6c5.6.0 10.7-2.3 14.4-6s6-8.8 6-14.4S116.3 88.9 112.6 85.2"/></g><g><path class="st3" d="M186.8 83.9c8.7.0 15.7 7 15.7 15.7s-7 15.7-15.7 15.7-15.7-7-15.7-15.7C171.1 91 178.1 83.9 186.8 83.9"/><path class="st2" d="M186.8 76.2c6.5.0 12.3 2.6 16.5 6.9 4.2 4.2 6.9 10.1 6.9 16.6.0 6.5-2.6 12.3-6.9 16.6-4.2 4.2-10.1 6.8-16.5 6.8-6.5.0-12.3-2.6-16.6-6.8-4.2-4.2-6.9-10.1-6.9-16.6s2.6-12.3 6.9-16.6C174.5 78.8 180.3 76.2 186.8 76.2M201.2 85.2c-3.7-3.7-8.8-6-14.4-6s-10.7 2.3-14.4 6c-3.7 3.7-6 8.8-6 14.4.0 5.6 2.3 10.7 6 14.4s8.8 6 14.4 6 10.7-2.3 14.4-6c3.7-3.7 6-8.8 6-14.4S204.9 88.9 201.2 85.2"/></g></g><path class="st3" d="M284.7 11.5c-5.4 8.9-15.3 23.4-17.4 27.3l-1.4-16.6-27.3 28.8c-9.4-17.8-26.5-30.9-46.8-34.8C186.7 7.1 166 .5 144.8.0c-.8.0-1.6.0-2.3.0-.8.0-1.6.0-2.3.0-21.2.5-41.9 7-47 16.1-20.3 3.9-37.5 17-46.8 34.8L19.1 22.1l-1.4 16.6c-2.1-3.8-12-18.4-17.4-27.3-1.5 5.3 3.2 46.2 4.5 51.4 1.3 5.2 9.8 40.8 16.3 40.2.9-.4 2.7-7.5 4.9-14L41 117c7 28 29.9 50 58.5 55.6.3-2 .8-4.1 1.5-5.9-31.9-6.1-56.2-34.3-56.2-67.8V81.9c0-28.9 20.4-53.2 47.5-59.3.1.2.1.4.2.6l16 43c2 5.4 5.4 10.1 11.8 10.1h22.3 22.3c6.4.0 9.8-4.7 11.8-10.1l16-43c.1-.2.1-.4.2-.6 27.1 6.1 47.5 30.5 47.5 59.3v16.9c0 33.6-24.3 61.8-56.2 67.8.8 1.8 1.2 3.9 1.5 5.9C214.1 166.9 237 145 244 117l15-27.8c2.2 6.4 3.9 13.6 4.9 14 6.5.6 15.1-35.1 16.3-40.2C281.5 57.6 286.2 16.7 284.7 11.5zM22.5 74.1l-2.7 17.6C11.9 69 7.8 51.8 4.5 27.4L21.2 58l3.1-23.1 19.3 22c-3.1 7.7-4.9 16.2-4.9 25v16.9c0 1 0 1.9.1 2.9L22.5 74.1zM186.8 21.1l-16 43c-1.2 3.1-2.7 6.1-6.1 6.1h-22.2-22.2c-3.3.0-4.9-3-6.1-6.1l-16-43c-1.9-5.1 21.5-12 44.3-12.2C165.2 9.1 188.7 16 186.8 21.1zM265.2 91.7l-2.7-17.6-16.3 27.5c0-1 .1-1.9.1-2.9V81.9c0-8.8-1.7-17.3-4.9-25l19.3-22 3.1 23.1 16.7-30.6C277.2 51.8 273.1 69 265.2 91.7z"/><path class="st0" d="M170.8 149.4h-28.3-28.3c-20.2.0-30.9-9.9-34.6-14.1l-3 2.5c4.2 4.7 16 15.5 37.6 15.5h28.3 28.3c21.6.0 33.4-10.7 37.6-15.5l-3-2.5C201.7 139.5 190.9 149.4 170.8 149.4z"/><path class="st4" d="M178.5 159.9c-3.3-1.7-6.9-1.6-10.3-.3-3.6 1.4-7.2 3.3-10.5 5.2-1.7.9-3.4 1.9-5 2.8-1.7-.9-3.6-1.5-5.6-1.5H138c-2 0-4 .5-5.6 1.5-1.7-1-3.4-1.9-5-2.8-3.4-1.9-6.9-3.8-10.5-5.2-3.4-1.3-7.1-1.4-10.3.3-7.6 3.9-8.8 14.9-8.1 22.4.6 7.6 3.6 19.6 12.4 21.3 1.5.3 3 .2 4.5-.2 5.7-1.5 12.1-4.7 17.9-8.3 1.5.7 3.1 1.1 4.9 1.1h9.1c1.7.0 3.4-.4 4.9-1.1 5.8 3.6 12.2 6.7 17.9 8.3 1.5.4 3 .5 4.5.2 8.8-1.7 11.8-13.8 12.4-21.3C187.3 174.8 186.2 163.8 178.5 159.9zM113.6 197.7c-10.7 2.9-14.6-38.3 1-32.3 3.4 1.3 7.9 3.7 13.3 6.8-.9 1.6-1.4 3.5-1.4 5.5v.7c-2.6-.8-6-1.7-10.5-2.7 7.4 4.6 5.1 3.5 10.1 5.9-5.5 3.3-3 1.6-10.7 7.4 4.7-1.6 8.3-2.8 11-3.9.0 2.2.7 4.2 1.8 5.9C123.9 193.6 118.6 196.3 113.6 197.7zM171.4 197.7c-4.9-1.3-10.3-4-14.7-6.6 1-1.6 1.7-3.5 1.8-5.6 2.6 1 6 2.2 10.2 3.6-7.4-5.5-5.3-4.2-10.1-7.1v-.6c4.3-2.1 2.5-1.2 9.6-5.7-3.9.9-7.1 1.7-9.6 2.4v-.5c0-2-.5-3.9-1.4-5.5 5.4-3.1 9.9-5.5 13.3-6.8C186 159.3 182.1 200.5 171.4 197.7z"/></g></g></svg></span>
	</a><br>
	<a  class="navbar-brand" href="https://cd.foundation/">
		<span>
			<svg width="36" height="18" xmlns="http://www.w3.org/2000/svg" role="img" xmlns:xlink="http://www.w3.org/1999/xlink"
				viewBox="-3.23 44.77 362.70 271.95">
				<defs>
					<linearGradient id="a" x1="359.765" x2="104.082" y1="134.295" y2="124.577"
						gradientTransform="matrix(1 0 0 -1 0 439.068)" gradientUnits="userSpaceOnUse">
						<stop offset="0" stop-color="#ed1c24"></stop>
						<stop offset="1" stop-color="#f7941d"></stop>
					</linearGradient>
					<linearGradient id="b" x1="355.202" x2="99.519" y1="254.467" y2="244.749" xlink:href="#a"></linearGradient>
					<linearGradient id="c" x1="183.903" x2="10.612" y1="227.598" y2="221.023" xlink:href="#a"></linearGradient>
					<linearGradient id="d" x1="367.119" x2="157.995" y1="265.311" y2="257.091" xlink:href="#a"></linearGradient>
				</defs>
				<path fill="#c49a6c"
					d="M231.52 309.278c2.483-.332 4.895-.77 7.255-1.329s4.649-1.206 6.991-1.957c13.494-4.58 25.187-12.952 36.374-24.593l-.14-.175c-14.944 15.486-30.693 25.344-50.48 28.054z">
				</path>
				<path fill="url(#a)" d="M224.232 309.96h.332c1.084 0 2.15-.14 3.216-.228a93.844 93.844 0 0 1-3.233.227z"></path>
				<path fill="url(#b)" d="M284.692 187.187l-.122.192.122-.192z"></path>
				<path fill="url(#c)"
					d="M146.145 231.847a150.844 150.844 0 0 1-12.97 15.862c-7.582 7.889-15.507 13.563-24.652 16.667a47.832 47.832 0 0 1-4.738 1.326 56.959 56.959 0 0 1-4.916.9 38.32 38.32 0 0 1-1.682.214l-.912.083c-.723.059-1.445.118-2.18.154h-3.068a42.325 42.325 0 0 1-9.192-1.043 49.977 49.977 0 0 1-6.764-2.002 43.097 43.097 0 0 1-4.525-1.954c-1.493-.77-2.961-1.516-4.407-2.37a59.5 59.5 0 0 1-17.105-15.399 59.714 59.714 0 0 1-2.914-4.311 53.09 53.09 0 0 1-1.291-2.263 51.985 51.985 0 0 1-2.263-4.738 46.72 46.72 0 0 1 0-36.426 51.986 51.986 0 0 1 2.263-4.738 54.14 54.14 0 0 1 1.291-2.263 59.742 59.742 0 0 1 2.914-4.311 59.714 59.714 0 0 1 17.105-15.4 60.828 60.828 0 0 1 4.407-2.369q2.217-1 4.525-1.777a49.976 49.976 0 0 1 6.906-2.073 42.325 42.325 0 0 1 9.192-1.042h3.128c.722 0 1.445.094 2.155.154l1.043.106 1.019.119c1.8.237 3.553.557 5.271.96.853.2 1.694.426 2.523.663a51.186 51.186 0 0 1 11.846 5.176 59.645 59.645 0 0 1 4.395 2.89 74.485 74.485 0 0 1 8.386 7.108q2.038 1.99 4.063 4.193l.083-.13a159.395 159.395 0 0 1 11.064 13.942c5.437-8.576 13.658-21.464 16.584-25.74 1.185-1.718 2.37-3.46 3.66-5.212-13.54-16.513-29.827-30.23-51.587-36.082h-.154a89.397 89.397 0 0 0-3.187-.794l-.45-.107a92.565 92.565 0 0 0-3.151-.627l-.628-.119a80.578 80.578 0 0 0-3.743-.569h-.142a58.29 58.29 0 0 0-2.073-.236h-.391l-1.872-.166h-.568l-1.754-.119h-.675l-1.777-.07h-3.115c-46.447-.25-87.125 40.476-87.125 86.911s40.725 87.173 87.172 87.173h3.14l1.729-.071h.734l1.67-.095h.676l1.706-.154h.568l1.813-.213.414-.06 1.967-.272h.213a125.91 125.91 0 0 0 3.553-.628l.652-.142c.96-.201 1.907-.415 2.855-.64l.58-.142a86.66 86.66 0 0 0 3.009-.817l.237-.071c20.73-6.077 36.425-19.392 49.55-35.277-2.037-3.068-3.4-5.366-4.039-6.48z">
				</path>
				<path fill="url(#d)"
					d="M318.05 51.733v94.66a85.514 85.514 0 0 0-52.595-18.729h-3.115l-1.777.072-.7.047-1.752.118h-.569l-1.871.166h-.391c-.7.071-1.386.142-2.073.237h-.154c-1.256.154-2.5.355-3.732.569l-.628.118c-1.066.19-2.108.403-3.15.628l-.45.107c-30.35 6.858-50.333 28.808-66.822 52.82-.7 1.018-1.35 2.049-2.038 3.068-2.25 3.423-5.46 8.422-8.635 13.397-4.17 6.527-8.292 13.03-9.939 15.66l20.624 32.137s21.997 40.465 61.68 51.482l.237.07c.995.297 2.002.558 3.009.818l.58.142c.936.237 1.896.439 2.855.64l.652.142c1.184.225 2.369.439 3.553.628h.214l1.966.273.415.059 1.812.213h.569l1.705.154h.676l1.67.095h.734l1.73.07h3.139c54.703 0 86.355-30.964 87.149-85.063V51.733zm-52.595 215.403h-3.068c-.734 0-1.457-.095-2.18-.154l-.912-.083c-.568-.06-1.125-.13-1.682-.213a49.077 49.077 0 0 1-9.571-2.275 49.612 49.612 0 0 1-6.634-2.83 55.792 55.792 0 0 1-6.254-3.768 63.068 63.068 0 0 1-3.009-2.215 82.399 82.399 0 0 1-8.683-7.925l-.095.119c-1.255-1.303-2.487-2.69-3.731-4.11-.154-.167-.296-.356-.45-.534-.628-.722-1.256-1.445-1.884-2.215s-1.125-1.398-1.682-2.097-.888-1.101-1.338-1.682a184.467 184.467 0 0 1-6.053-8.292c-.7-.995-1.398-2.025-2.109-3.056-.379-.569-.77-1.184-1.185-1.73-.675-1.018-1.362-2.013-2.049-3.056l-.355-.545c-1.185-1.812-2.37-3.684-3.649-5.603q2.95-4.608 5.817-8.86c1.907-2.831 3.79-5.556 5.662-8.138s3.72-5.046 5.591-7.38 3.72-4.525 5.603-6.586q2.026-2.203 4.063-4.194c1.374-1.338 2.748-2.594 4.158-3.778s2.807-2.287 4.252-3.329a57.594 57.594 0 0 1 7.748-4.62c.331-.166.663-.367 1.006-.533l.226-.118c1.41-.652 2.843-1.185 4.3-1.73l.485-.201c.273-.083.557-.142.83-.237a44.943 44.943 0 0 1 3.34-.948l1.374-.343a60.798 60.798 0 0 1 4.738-.841l1.019-.119 1.042-.106c.711 0 1.434-.119 2.156-.154h3.128a42.431 42.431 0 0 1 4.572.26 48.011 48.011 0 0 1 6.93 1.35c1.54.427 3.08.925 4.596 1.505a48.724 48.724 0 0 1 4.525 1.955c1.493.722 2.961 1.516 4.407 2.369s2.866 1.8 4.24 2.784 2.725 2.049 4.028 3.174a58.459 58.459 0 0 1 8.837 9.477 59.73 59.73 0 0 1 2.914 4.312 51.067 51.067 0 0 1 5.318 11.916 47.38 47.38 0 0 1 1.185 5.165 45.567 45.567 0 0 1 .71 8.09c.072 35.964-16.062 52.122-52.227 52.122z">
				</path>
			</svg>
		</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/getting-started/" ><span class="active">Docs</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/community/" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/blog/" ><span>Blog</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/zh/">中文</a>
	
	<a class="dropdown-item" href="/es/">Español</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<form class="form-inline my-2 my-lg-0">
    <input class="form-control mr-sm-2" id="search-input" type="search" placeholder=" Search this site…" aria-label="Search this site…" autocomplete="off"/>
</form>
 
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/zh/">中文</a>
	
	<a class="dropdown-item" href="/es/">Español</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/getting-started/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docs</a>
  </li>
  <ul>
    <li class="collapse show" id="docsgetting-started">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="docsgetting-started">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Install and setup</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setup">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/installing/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Install Jenkins X</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setupinstalling">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/installing/create-cluster/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Create cluster</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setupinstallingcreate-cluster">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingcreate-clustergke" href="/docs/install-setup/installing/create-cluster/gke/">GKE</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingcreate-clustereks" href="/docs/install-setup/installing/create-cluster/eks/">EKS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingcreate-clusterrequired-cloud-resources" href="/docs/install-setup/installing/create-cluster/required-cloud-resources/">Required cloud resources</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/installing/install-binary/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Install the jx binary</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setupinstallinginstall-binary">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/installing/boot/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Jenkins X Boot</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setupinstallingboot">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/install-setup/installing/boot/clouds/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Cloud Providers</a>
  </li>
  <ul>
    <li class="collapse " id="docsinstall-setupinstallingbootclouds">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingbootcloudsgoogle" href="/docs/install-setup/installing/boot/clouds/google/">Google</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingbootcloudsamazon" href="/docs/install-setup/installing/boot/clouds/amazon/">Amazon</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallingbootcloudson-premise" href="/docs/install-setup/installing/boot/clouds/on-premise/">On Premise</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupinstallinginstall-ui" href="/docs/install-setup/installing/install-ui/">Installing the UI</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupupgrade-jx" href="/docs/install-setup/upgrade-jx/">Upgrading Jenkins X</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupsecurity-features" href="/docs/install-setup/security-features/">Securing Jenkins X</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsinstall-setupconfigure-scm" href="/docs/install-setup/configure-scm/">Configuring SCMs</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/create-project/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Creating projects</a>
  </li>
  <ul>
    <li class="collapse " id="docscreate-project">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscreate-projectbuild-packs" href="/docs/create-project/build-packs/">Build Packs</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/create-project/creating/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Creating Quickstarts</a>
  </li>
  <ul>
    <li class="collapse " id="docscreate-projectcreating">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscreate-projectcreatingcreate-mlquickstart" href="/docs/create-project/creating/create-mlquickstart/">Create MLquickstart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscreate-projectcreatingcreate-spring" href="/docs/create-project/creating/create-spring/">Create Spring Boot</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscreate-projectcreatingimport" href="/docs/create-project/creating/import/">Import</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscreate-projectenvironments" href="/docs/create-project/environments/">Environments</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/build-test-preview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Build and test</a>
  </li>
  <ul>
    <li class="collapse " id="docsbuild-test-preview">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/build-test-preview/jenkins-x-pipelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Writing Pipelines</a>
  </li>
  <ul>
    <li class="collapse " id="docsbuild-test-previewjenkins-x-pipelines">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsbuild-test-previewchatops" href="/docs/build-test-preview/chatops/">ChatOps and PRs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsbuild-test-previewpreview" href="/docs/build-test-preview/preview/">Preview Environments</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/build-test-preview/promotion/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Promotion and Environments</a>
  </li>
  <ul>
    <li class="collapse " id="docsbuild-test-previewpromotion">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsbuild-test-previewdevpods" href="/docs/build-test-preview/devpods/">DevPods</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Misc Resources</a>
  </li>
  <ul>
    <li class="collapse " id="docsresources">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/demos-talks-posts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Demos, talks and blog posts</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesdemos-talks-posts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postsarticles" href="/docs/resources/demos-talks-posts/articles/">Articles</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-poststalks" href="/docs/resources/demos-talks-posts/talks/">Recorded Talks</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postscreate_cluster" href="/docs/resources/demos-talks-posts/create_cluster/">Create Cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postscreate_cluster_gke" href="/docs/resources/demos-talks-posts/create_cluster_gke/">Create Cluster GKE</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postscreate_spring" href="/docs/resources/demos-talks-posts/create_spring/">Create Spring</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postsdevoxx-uk-2018" href="/docs/resources/demos-talks-posts/devoxx-uk-2018/">DevOxx UK 2018 Demo</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesdemos-talks-postskubecon-2018" href="/docs/resources/demos-talks-posts/kubecon-2018/">KubeCon 2018 Demo</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Guides and Tutorials</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguides">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/using-jx/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Using Jenkins X</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguidesusing-jx">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/using-jx/pipelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Pipelines</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguidesusing-jxpipelines">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxpipelinesnewpipeline" href="/docs/resources/guides/using-jx/pipelines/newpipeline/">Create from scratch</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxpipelinesenvvars" href="/docs/resources/guides/using-jx/pipelines/envvars/">Environment Variables</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxpipelinescustomimages" href="/docs/resources/guides/using-jx/pipelines/customimages/">Custom Images</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/using-jx/developing/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developing</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguidesusing-jxdeveloping">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxdevelopingbrowsing" href="/docs/resources/guides/using-jx/developing/browsing/">Browsing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxdevelopingide" href="/docs/resources/guides/using-jx/developing/ide/">IDE</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxdevelopingissues" href="/docs/resources/guides/using-jx/developing/issues/">Issues</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxdevelopingkube-context" href="/docs/resources/guides/using-jx/developing/kube-context/">Kubernetes Context</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/using-jx/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguidesusing-jxfaq">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxfaqpipelines" href="/docs/resources/guides/using-jx/faq/pipelines/">Pipelines Questions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesusing-jxfaqchatops" href="/docs/resources/guides/using-jx/faq/chatops/">ChatOps</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/mlops/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">MLOps with Jenkins X</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguidesmlops">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesmlopsintroduction" href="/docs/resources/guides/mlops/introduction/">Introduction</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesmlopsmlquickstarting" href="/docs/resources/guides/mlops/mlquickstarting/">Using ML Quickstarts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesmlopsmlquickstarts" href="/docs/resources/guides/mlops/mlquickstarts/">ML Quickstarts Directory</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesmlopsgpu" href="/docs/resources/guides/mlops/gpu/">Working with GPUs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguidesmlopsdata" href="/docs/resources/guides/mlops/data/">Managing Data</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/guides/webinars/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesguideswebinars">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguideswebinarscustom-builder" href="/docs/resources/guides/webinars/custom-builder/">Custom Builder</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguideswebinarsimage-security" href="/docs/resources/guides/webinars/image-security/">CVE Scanning</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguideswebinarsjava-gradle-app" href="/docs/resources/guides/webinars/java-gradle-app/">Deploy a Java Gradle app</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguideswebinarsprogressive-delivery" href="/docs/resources/guides/webinars/progressive-delivery/">Progressive Delivery</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesguideswebinarsserverless-apps" href="/docs/resources/guides/webinars/serverless-apps/">Serverless Apps</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/resources/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="docsresourcesfaq">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesfaqboot" href="/docs/resources/faq/boot/">Boot Questions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsresourcesfaqissues" href="/docs/resources/faq/issues/">Common Problems</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Labs</a>
  </li>
  <ul>
    <li class="collapse " id="docslabs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/enhancements/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Enhancements</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsenhancements">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsenhancementsreadme" href="/docs/labs/enhancements/readme/">Enhancement Process</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/enhancements/proposals/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Enhancements</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsenhancementsproposals">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsenhancementsproposals1readme" href="/docs/labs/enhancements/proposals/1/readme/">Consolidate Apps and Addons</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsenhancementsproposals2readme" href="/docs/labs/enhancements/proposals/2/readme/">Boot Apps with Helm 3 and Helmfile</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsenhancementsproposalsproposals" href="/docs/labs/enhancements/proposals/proposals/">Proposals</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsenhancementsproposals3readme" href="/docs/labs/enhancements/proposals/3/readme/"></a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsjxl" href="/docs/labs/jxl/">Getting jxl</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/boot/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Boot</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsboot">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/boot/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsbootgetting-started">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/boot/getting-started/cloud/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Setting up Cloud Resources</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsbootgetting-startedcloud">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedcloudgcloud" href="/docs/labs/boot/getting-started/cloud/gcloud/">gcloud</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedcloudterraform" href="/docs/labs/boot/getting-started/cloud/terraform/">terraform</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedrepository" href="/docs/labs/boot/getting-started/repository/">Create Repository</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/boot/getting-started/secrets/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Secrets</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsbootgetting-startedsecrets">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedsecretsvault" href="/docs/labs/boot/getting-started/secrets/vault/">Vault</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedconfig" href="/docs/labs/boot/getting-started/config/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootgetting-startedrun" href="/docs/labs/boot/getting-started/run/">Running Boot</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootmulti-cluster" href="/docs/labs/boot/multi-cluster/">Multi-Cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootprogressive-delivery" href="/docs/labs/boot/progressive-delivery/">Progressive Delivery</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootbenefits" href="/docs/labs/boot/benefits/">Benefits</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootcomparison" href="/docs/labs/boot/comparison/">Comparison</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootapps" href="/docs/labs/boot/apps/">Apps framework</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsbootbackground" href="/docs/labs/boot/background/">Background</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsboothow-it-works" href="/docs/labs/boot/how-it-works/">How it works</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/boot/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsbootfaq">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/jenkins/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Jenkins</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsjenkins">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsjenkinsoverview" href="/docs/labs/jenkins/overview/">Overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsjenkinsgetting-started" href="/docs/labs/jenkins/getting-started/">Getting Started</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabsjenkinsimporting" href="/docs/labs/jenkins/importing/">Importing Projects</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/jenkins/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="docslabsjenkinsfaq">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/labs/wizard/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Wizards</a>
  </li>
  <ul>
    <li class="collapse " id="docslabswizard">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabswizardoverview" href="/docs/labs/wizard/overview/">Overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docslabswizardjenkins" href="/docs/labs/wizard/jenkins/">Jenkins Support</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="docsreference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/reference/commands/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI</a>
  </li>
  <ul>
    <li class="collapse " id="docsreferencecommands">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsdeprecation" href="/commands/deprecation/">deprecated commands</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx" href="/commands/jx/">jx</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_add" href="/commands/jx_add/">jx add</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_add_app" href="/commands/jx_add_app/">jx add app</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_alpha" href="/commands/jx_alpha/">jx alpha</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_alpha_boot" href="/commands/jx_alpha_boot/">jx alpha boot</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_alpha_jenkins" href="/commands/jx_alpha_jenkins/">jx alpha jenkins</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_alpha_project" href="/commands/jx_alpha_project/">jx alpha project</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_boot" href="/commands/jx_boot/">jx boot</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_completion" href="/commands/jx_completion/">jx completion</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance" href="/commands/jx_compliance/">jx compliance</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance_delete" href="/commands/jx_compliance_delete/">jx compliance delete</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance_logs" href="/commands/jx_compliance_logs/">jx compliance logs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance_results" href="/commands/jx_compliance_results/">jx compliance results</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance_run" href="/commands/jx_compliance_run/">jx compliance run</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_compliance_status" href="/commands/jx_compliance_status/">jx compliance status</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_context" href="/commands/jx_context/">jx context</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller" href="/commands/jx_controller/">jx controller</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_backup" href="/commands/jx_controller_backup/">jx controller backup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_build" href="/commands/jx_controller_build/">jx controller build</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_buildnumbers" href="/commands/jx_controller_buildnumbers/">jx controller buildnumbers</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_commitstatus" href="/commands/jx_controller_commitstatus/">jx controller commitstatus</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_environment" href="/commands/jx_controller_environment/">jx controller environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_pipelinerunner" href="/commands/jx_controller_pipelinerunner/">jx controller pipelinerunner</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_role" href="/commands/jx_controller_role/">jx controller role</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_controller_team" href="/commands/jx_controller_team/">jx controller team</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create" href="/commands/jx_create/">jx create</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon" href="/commands/jx_create_addon/">jx create addon</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_ambassador" href="/commands/jx_create_addon_ambassador/">jx create addon ambassador</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_anchore" href="/commands/jx_create_addon_anchore/">jx create addon anchore</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_environment" href="/commands/jx_create_addon_environment/">jx create addon environment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_flagger" href="/commands/jx_create_addon_flagger/">jx create addon flagger</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_gitea" href="/commands/jx_create_addon_gitea/">jx create addon gitea</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_gloo" href="/commands/jx_create_addon_gloo/">jx create addon gloo</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_ingress" href="/commands/jx_create_addon_ingress/">jx create addon ingress</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_istio" href="/commands/jx_create_addon_istio/">jx create addon istio</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_kubeless" href="/commands/jx_create_addon_kubeless/">jx create addon kubeless</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_owasp-zap" href="/commands/jx_create_addon_owasp-zap/">jx create addon owasp-zap</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_pipeline-events" href="/commands/jx_create_addon_pipeline-events/">jx create addon pipeline-events</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_prometheus" href="/commands/jx_create_addon_prometheus/">jx create addon prometheus</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_addon_prow" href="/commands/jx_create_addon_prow/">jx create addon prow</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_branchpattern" href="/commands/jx_create_branchpattern/">jx create branchpattern</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_chat" href="/commands/jx_create_chat/">jx create chat</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_chat_server" href="/commands/jx_create_chat_server/">jx create chat server</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_chat_token" href="/commands/jx_create_chat_token/">jx create chat token</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_cluster" href="/commands/jx_create_cluster/">jx create cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_cluster_aks" href="/commands/jx_create_cluster_aks/">jx create cluster aks</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_cluster_eks" href="/commands/jx_create_cluster_eks/">jx create cluster eks</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_cluster_gke" href="/commands/jx_create_cluster_gke/">jx create cluster gke</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-commandsjx_create_cluster_iks" href="/commands/jx_create_cluster_iks/">jx create cluster iks</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencepipeline-syntax-reference" href="/docs/reference/pipeline-syntax-reference/">Pipeline Reference</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/reference/config/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Configuration</a>
  </li>
  <ul>
    <li class="collapse " id="docsreferenceconfig">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceconfigconfig" href="/docs/reference/config/config/">Reference</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapi" href="/docs/reference/api/">API Documentation</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/reference/components/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Components</a>
  </li>
  <ul>
    <li class="collapse " id="docsreferencecomponents">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentscustom-resources" href="/docs/reference/components/custom-resources/">Custom Resources</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentsdecisions" href="/docs/reference/components/decisions/">Decisions</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentscloud-native-jenkins" href="/docs/reference/components/cloud-native-jenkins/">Cloud Native Jenkins</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentsprow" href="/docs/reference/components/prow/">Prow</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentslighthouse" href="/docs/reference/components/lighthouse/">Lighthouse</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentscustom-jenkins" href="/docs/reference/components/custom-jenkins/">Custom Jenkins Servers</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentsdocker-registry" href="/docs/reference/components/docker-registry/">Docker Registry</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentsgit" href="/docs/reference/components/git/">Git Servers</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentshelm3" href="/docs/reference/components/helm3/">Helm 3</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentspod-templates" href="/docs/reference/components/pod-templates/">Pod Templates</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentsvault" href="/docs/reference/components/vault/">Vault</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencecomponentssource" href="/docs/reference/components/source/">Source</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencedevpods" href="/docs/reference/devpods/">Dev Pods</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferencemulti-cluster" href="/docs/reference/multi-cluster/">Multiple Clusters</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsalternatives" href="/docs/alternatives/"></a>
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<p>
  <h4>
    <a href="https://github.com/jenkins-x/jx-docs/edit/master/content/en/docs/guides/extending-jx/worked-example.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
  </h4>
  <a href="/docs/contributing/documentation/changes/" target="_blank"><i>(Learn how to edit)</i></a>
</p>
<a href="https://github.com/jenkins-x/jx-docs/issues/new?title=Worked%20Example" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/jenkins-x/jx/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#collect-junit-xml-files-from-build">Collect JUnit XML files from build</a>
      <ul>
        <li><a href="#create-a-sample-project">Create a sample project</a></li>
        <li><a href="#generate-a-human-readable-report">Generate a Human Readable Report</a></li>
        <li><a href="#store-the-reports">Store the reports</a></li>
        <li><a href="#create-an-index-of-reports">Create an index of reports</a></li>
        <li><a href="#visualize-the-test-results">Visualize the test results</a></li>
        <li><a href="#a-better-way-to-build-functionality">A better way to build functionality</a></li>
      </ul>
    </li>
    <li><a href="#progress-review">Progress Review</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://jenkins-x.io/docs/getting-started/">Docs</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://jenkins-x.io/docs/guides/extending-jx/">Extending Jenkins X</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://jenkins-x.io/docs/guides/extending-jx/worked-example/">Worked Example</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Worked Example</h1>
	<div class="lead">Implement support for JUnit Test reports in Jenkins X</div>
	<p>In this worked example we will implement the functionality of the classic <a href="https://wiki.jenkins.io/display/JENKINS/JUnit+Plugin">JUnit Plugin</a> from Jenkins in Jenkins X as a series of extensions to Jenkins X.</p>
<blockquote>
<p>This guide is still a work in progress!</p>
</blockquote>
<h1 id="functional-requirements">Functional Requirements</h1>
<ul>
<li>Collect JUnit XML files from build</li>
<li>Associate with pipeline / pipeline step execution</li>
<li>Notify user of URL to view test results</li>
<li>Provide historical/trend view of tests</li>
<li>Allow test results to affect build health</li>
</ul>
<h1 id="implementation">Implementation</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>A working installation of <code>jx</code></li>
<li>A working Jenkins X cluster</li>
<li>A working local install of Java and Maven</li>
</ul>
<h2 id="collect-junit-xml-files-from-build">Collect JUnit XML files from build</h2>
<h3 id="create-a-sample-project">Create a sample project</h3>
<p>We&rsquo;ll start by creating a sample Java project which will run some tests.</p>
<ol>
<li>
<p>Run <code>jx create quickstart -f spring-boot-web</code>. You can accept the defaults when prompted.</p>
</li>
<li>
<p>Import the created sources into your favorite IDE.</p>
</li>
<li>
<p>Open <code>pom.xml</code> and add JUnit as a dependency:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
  <span style="color:#f92672">&lt;groupId&gt;</span>junit<span style="color:#f92672">&lt;/groupId&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>junit<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
  <span style="color:#f92672">&lt;version&gt;</span>4.12<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div></li>
<li>
<p>Create the file <code>src/test/java/jenkinsx/example/springboot/WelcomeControllerTest.java</code>.</p>
</li>
<li>
<p>Copy and paste this code into the <code>WelcomeControllerTest</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> jenkinsx.example.springboot<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.Assert<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.Test<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.util.HashMap<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Map<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WelcomeControllerTest</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testWelcome</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        WelcomeController wc <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WelcomeController<span style="color:#f92672">();</span>
        Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;</span> res <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Object<span style="color:#f92672">&gt;();</span>
        wc<span style="color:#f92672">.</span><span style="color:#a6e22e">welcome</span><span style="color:#f92672">(</span>res<span style="color:#f92672">);</span>
        Assert<span style="color:#f92672">.</span><span style="color:#a6e22e">assertEquals</span><span style="color:#f92672">(</span>res<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;message&#34;</span><span style="color:#f92672">),</span> <span style="color:#e6db74">&#34;Hello World&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div></li>
<li>
<p>Validate your changes by running <code>mvn test</code>.</p>
</li>
<li>
<p>Commit your changes and make sure the app makes it to staging in Jenkins X.</p>
</li>
<li>
<p>Our test reports will be generated in Jenkins X build pods, so we want to use that for development. Jenkins X DevPods make that easy. Run <code>jx create devpod --sync</code> in your project.</p>
</li>
<li>
<p>Validate the DevPod is working by running <code>mvn test</code>.</p>
</li>
</ol>
<h3 id="generate-a-human-readable-report">Generate a Human Readable Report</h3>
<p>By default Maven Surefire doesn&rsquo;t generate HTML files, just XML reports. We want people to be able to look at the reports, as well as be able to submit the XML for analysis.</p>
<ol>
<li>
<p>In the DevPod run <code>mvn install surefire-report:report</code>. Validate that <code>target/site/surefire-report.html</code> is generated.</p>
</li>
<li>
<p>Create a script <code>junit.sh</code> in the sample project with this code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># Generate the HTML report</span>
mvn surefire-report:report
</code></pre></div></li>
</ol>
<h3 id="store-the-reports">Store the reports</h3>
<p>We need a place to store the reports. A simple Go program will suffice for now.</p>
<ol>
<li>
<p>Run <code>jx create quickstart -f spring-boot-web</code>. You can accept the defaults when prompted.</p>
</li>
<li>
<p>Replace the <code>main.go</code> contents with this code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-golang" data-lang="golang"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
  <span style="color:#e6db74">&#34;fmt&#34;</span>
  <span style="color:#e6db74">&#34;io/ioutil&#34;</span>
  <span style="color:#e6db74">&#34;log&#34;</span>
  <span style="color:#e6db74">&#34;net/http&#34;</span>
  <span style="color:#e6db74">&#34;os&#34;</span>
  <span style="color:#e6db74">&#34;path/filepath&#34;</span>
)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">maxUploadSize</span> = <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1024</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1024</span> <span style="color:#75715e">// 2 MB
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uploadPath</span> = <span style="color:#e6db74">&#34;/reports&#34;</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">downloadPort</span> = <span style="color:#ae81ff">8080</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uploadPort</span> = <span style="color:#ae81ff">8081</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bind</span> = <span style="color:#e6db74">&#34;0.0.0.0&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#66d9ef">go</span> <span style="color:#a6e22e">uploadServer</span>()
  <span style="color:#a6e22e">downloadServer</span>()
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">downloadServer</span>() {
  <span style="color:#a6e22e">server</span><span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">NewServeMux</span>()
  <span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">Handle</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">FileServer</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Dir</span>(<span style="color:#a6e22e">uploadPath</span>)))
  <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Download server listening on %s:%d\n&#34;</span>, <span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">downloadPort</span>)
  <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s:%d&#34;</span>, <span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">downloadPort</span>), <span style="color:#a6e22e">server</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">uploadServer</span>() {
  <span style="color:#a6e22e">server</span><span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">NewServeMux</span>()
  <span style="color:#a6e22e">server</span>.<span style="color:#a6e22e">HandleFunc</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">uploadFileHandler</span>())
  <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Upload server listening on %s:%d\n&#34;</span>, <span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">uploadPort</span>)
  <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s:%d&#34;</span>, <span style="color:#a6e22e">bind</span>, <span style="color:#a6e22e">uploadPort</span>), <span style="color:#a6e22e">server</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">uploadFileHandler</span>() <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">HandlerFunc</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">HandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>) {
    <span style="color:#75715e">// validate file size
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Body</span> = <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">MaxBytesReader</span>(<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Body</span>, <span style="color:#a6e22e">maxUploadSize</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">ParseMultipartForm</span>(<span style="color:#a6e22e">maxUploadSize</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;FILE_TOO_BIG&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusBadRequest</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }

    <span style="color:#75715e">// parse and validate file and post parameters
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">file</span>, <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">FormFile</span>(<span style="color:#e6db74">&#34;upload&#34;</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;INVALID_FILE&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusBadRequest</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }
    <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">Close</span>()
    <span style="color:#a6e22e">fileBytes</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">ReadAll</span>(<span style="color:#a6e22e">file</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;INVALID_FILE&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusBadRequest</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }
    <span style="color:#a6e22e">filename</span>, <span style="color:#a6e22e">dir</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">filepath</span>.<span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">Path</span>)
    <span style="color:#a6e22e">newPath</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">filepath</span>.<span style="color:#a6e22e">Join</span>(<span style="color:#a6e22e">dir</span>, <span style="color:#a6e22e">filename</span>)

    <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">MkdirAll</span>(<span style="color:#a6e22e">dir</span>, <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">FileMode</span>(<span style="color:#ae81ff">0755</span>))
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;CANT_CREATE_DIR&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }
    <span style="color:#75715e">// write file
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">newFile</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Create</span>(<span style="color:#a6e22e">newPath</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;CANT_WRITE_FILE&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }
    <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">newFile</span>.<span style="color:#a6e22e">Close</span>() <span style="color:#75715e">// idempotent, okay to call twice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">newFile</span>.<span style="color:#a6e22e">Write</span>(<span style="color:#a6e22e">fileBytes</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">newFile</span>.<span style="color:#a6e22e">Close</span>() <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;CANT_WRITE_FILE&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      <span style="color:#66d9ef">return</span>
    }
    <span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#e6db74">&#34;SUCCESS&#34;</span>))
  })
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">message</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">statusCode</span> <span style="color:#66d9ef">int</span>) {
  <span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">WriteHeader</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusBadRequest</span>)
  <span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">Write</span>([]byte(<span style="color:#a6e22e">message</span>))
}
</code></pre></div><p>This code will create an HTTP server that listens on two ports. It listens on 8080 to serve files from the <code>/reports</code> directory, and listens on 8081 for file uploads (using the URL path as the path as the location under <code>/reports</code> to store the file). By listening on different ports for download and upload we can easily expose the downloads service outside the cluster, but restrict the uploads service to inside the cluster meaning we have no need to secure the transport.</p>
<p>We&rsquo;ll add authentication to the upload endpoint at a later point.</p>
</li>
<li>
<p>We need to store the reports somewhere, and in Kubernetes this means using a volume. Add this snippet to the bottom of <code>charts/jenkins-x-reports/templates/deployment.yaml</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">      <span style="color:#66d9ef">volumes</span>:
      - <span style="color:#66d9ef">name</span>: {{ .Values.service.reportVolumeName }}
        <span style="color:#66d9ef">emptyDir</span>: {}
</code></pre></div><p>and add this snippet to the container (just below above <code>ports</code> will work well):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">        <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">name</span>: {{ .Values.service.reportVolumeName }}
          <span style="color:#66d9ef">mountPath</span>: {{ .Values.service.reportMountPath }}
</code></pre></div><p>Now modify <code>charts/jenkins-x-reports/values.yaml</code> and modify the <code>service</code> and add (just after <code>internalPort</code> will work well):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">  <span style="color:#66d9ef">reportVolumeName</span>: reports-volume
  <span style="color:#66d9ef">reportMountPath</span>: /reports
</code></pre></div><p>You&rsquo;ll notice that we&rsquo;ve used <code>emptyDir{}</code> to store the reports - this is transient and reports will be lost when the pod dies. We&rsquo;ll replace this with a persistent volume later.</p>
</li>
<li>
<p>Modify the <code>Dockerfile</code> to expose port <code>8081</code> as well by adding the line <code>EXPOSE 8081</code> just after <code>EXPOSE 8080</code>.</p>
</li>
<li>
<p>Modify <code>charts/jenkins-x-reports/values.yaml</code> and add the values for the upload service just after the existing service:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">serviceUpload</span>:
  <span style="color:#66d9ef">name</span>: jenkins-x-reports-upload
  <span style="color:#66d9ef">type</span>: ClusterIP
  <span style="color:#66d9ef">externalPort</span>: <span style="color:#ae81ff">80</span>
  <span style="color:#66d9ef">internalPort</span>: <span style="color:#ae81ff">8081</span>
</code></pre></div><p>Notice how we&rsquo;ve given it a unique name, set the internal port correctly and removed the annotations that instruct Jenkins X to expose the service outside the cluster.</p>
<p>We now need to create a template for these values. Add the file <code>charts/jenkins-x-reports/templates/service-upload.yaml</code>:</p>
<pre><code>apiVersion: v1
kind: Service
metadata:
{{- if .Values.serviceUpload.name }}
  name: {{ .Values.serviceUpload.name }}
{{- else }}
  name: {{ template &quot;fullname&quot; . }}
{{- end }}
  labels:
    chart: &quot;{{ .Chart.Name }}-{{ .Chart.Version | replace &quot;+&quot; &quot;_&quot; }}&quot;
{{- if .Values.serviceUpload.annotations }}
  annotations:
{{ toYaml .Values.serviceUpload.annotations | indent 4 }}
{{- end }}
spec:
  type: {{ .Values.serviceUpload.type }}
  ports:
  - port: {{ .Values.serviceUpload.externalPort }}
    targetPort: {{ .Values.serviceUpload.internalPort }}
    protocol: TCP
    name: http
  selector:
    app: {{ template &quot;fullname&quot; . }}
</code></pre><p>This file is simply a copy of <code>service.yaml</code> with the <code>service</code> variable changed to <code>serviceUpload</code>.</p>
<p>We also need to add the upload port to the list of container ports. Just below <code>containerPort: {{ .Values.service.internalPort }}</code> add:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">          <span style="color:#66d9ef">containerPort</span>: {{ .Values.serviceUpload.internalPort }}
</code></pre></div></li>
<li>
<p>Run this as an app on your Jenkins X cluster by pushing your code changes to GitHub. The app will build and can be tested in the staging environment.</p>
</li>
<li>
<p>Validate you can upload and download files. In the DevPod for the sample app run <code>curl -F upload=@target/site/surefire-report.html http://jenkins-x-reports-upload.jx-staging/test/1</code> and then validate that the file is there by running <code>curl http://jenkins-x-reports.jx-staging/test/1</code>.</p>
</li>
<li>
<p>Promote the app to production using <code>jx promote -a jenkins-x-reports -e production -v 0.0.1</code> (assuming you are still on your first version of the app)</p>
</li>
<li>
<p>To POST all the JUnit artifacts to the reports server use this script</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
UPLOADED<span style="color:#f92672">=</span>uploaded.yaml
REPORT_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>jx get urls -e production | grep -o http://jenkins-x-reports.jx-production.*<span style="color:#e6db74">`</span>

<span style="color:#66d9ef">function</span> upload<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    upload_junit_artifacts
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">function</span> upload_junit_artifacts<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e"># Generate the HTML report</span>
    mvn surefire-report:report
    upload_file target/site/surefire-report.html
    <span style="color:#66d9ef">for</span> f in target/surefire-reports/*.xml; <span style="color:#66d9ef">do</span>
        upload_file <span style="color:#e6db74">${</span>f<span style="color:#e6db74">}</span>
    <span style="color:#66d9ef">done</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">function</span> upload_file<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">[</span> -f <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">||</span> break
    filename<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>basename $1<span style="color:#66d9ef">)</span>
    path<span style="color:#f92672">=</span>$ORG/$APP_NAME/$VERSION/$filename
    set -x
    curl -s -F upload<span style="color:#f92672">=</span>@$1 http://jenkins-x-reports-upload.jx-production/$path
    set +x
    echo <span style="color:#e6db74">&#34;    </span><span style="color:#e6db74">${</span>filename<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span>REPORT_HOST<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">${</span>path<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> &gt;&gt; $UPLOADED
<span style="color:#f92672">}</span>
</code></pre></div></li>
<li>
<p>Make the script executable by running <code>chmod u+x junit.sh</code></p>
</li>
<li>
<p>Tell Jenkins to execute the script by adding this snippet to the <code>Jenkinsfile</code> just above the <code>jx step post build</code> lines in both the <code>CI Build and push snapshot</code> and <code>Build Release</code> stages:</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">            sh <span style="color:#e6db74">&#34;VERSION=`cat VERSION` ./junit.sh&#34;</span>
</code></pre></div><p>So far we&rsquo;ve had to add a script to the sample and modify the <code>Jenkinsfile</code> to run the script. Later in this tutorial we&rsquo;ll implement this functionality as a cross-cutting concern and be able to remove this from the sample project. But for now let&rsquo;s focus on the functionality we need.</p>
<h3 id="create-an-index-of-reports">Create an index of reports</h3>
<p>In order to provide the user with access to reports we need to create a central list. A Kubernetes <code>ConfigMap</code> is a simple way to store this information. A config map does have some limitations (they aren&rsquo;t ideal for large amounts of rapidly changing data) so we&rsquo;ll come back at a later stage and provide a better solution, but for now it allows us to focus on the user functionality.</p>
<p>We&rsquo;ll use one <code>ConfigMap</code> per app, and we&rsquo;ll use a standard naming pattern so that other tools can work out where the test report config map is for each app. We&rsquo;ll store the config maps in the <code>jx</code> namespace.</p>
<ol>
<li>
<p>Update the <code>junit.sh</code> script with these three functions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
CM_NAME<span style="color:#f92672">=</span>$ORG-$APP_NAME-test-reports

<span style="color:#66d9ef">function</span> create_cm_if_needed<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> ! kubectl get cm $CM_NAME &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
        echo <span style="color:#e6db74">&#34;Creating ConfigMap </span>$CM_NAME<span style="color:#e6db74">&#34;</span>
        kubectl create cm $CM_NAME
    <span style="color:#66d9ef">fi</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">function</span> init_patch<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    rm -f $UPLOADED
    echo <span style="color:#e6db74">&#34;data:&#34;</span> &gt;&gt; $UPLOADED
    echo <span style="color:#e6db74">&#34;  </span>$VERSION<span style="color:#e6db74">: |-&#34;</span> &gt;&gt; $UPLOADED
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">function</span> update_cm<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    set -x
    kubectl -v1 patch cm $CM_NAME --patch <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>cat $UPLOADED<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
    set +x
<span style="color:#f92672">}</span>
</code></pre></div></li>
<li>
<p>And update the <code>upload()</code> function to call these functions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#66d9ef">function</span> upload<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    create_cm_if_needed
    init_patch
    upload_junit_artifacts
    update_cm
<span style="color:#f92672">}</span>
</code></pre></div></li>
</ol>
<h3 id="visualize-the-test-results">Visualize the test results</h3>
<p>We&rsquo;ll use Kibana and ElasticSearch to create dashboards to visualize the test results.</p>
<ol>
<li>
<p>Install ElasticSearch by running <code>helm install --name jenkins-x-reports-elasticsearch incubator/elasticsearch</code></p>
</li>
<li>
<p>Install Kibana by running <code>helm install stable/kibana --name=jenkins-x-reports-kibana --set service.annotations.&quot;fabric8\.io/expose&quot;=true --set files.&quot;kibana\.yml&quot;.&quot;elasticsearch\.url&quot;=http://jenkins-x-reports-elasticsearch-client:9200 --set  &amp;&amp; jx upgrade ingress</code>.</p>
<p>The ingress upgrade will ask you a number of questions, and you can just accept the defaults. You can now access Kibana by running <code>jx get urls</code> and copying the URL for <code>jenkins-x-reports-kibana</code> into your browser.</p>
</li>
<li>
<p>Create a mapping for the JUnit XML format in Kibana by pasting this code into the Kibana console:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#960050;background-color:#1e0010">PUT</span> <span style="color:#960050;background-color:#1e0010">tests</span>
{
    <span style="color:#f92672">&#34;mappings&#34;</span>: {
      <span style="color:#f92672">&#34;junit&#34;</span>: {
        <span style="color:#f92672">&#34;properties&#34;</span>: {
        <span style="color:#f92672">&#34;errors&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;integer&#34;</span> },
        <span style="color:#f92672">&#34;failures&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;integer&#34;</span> },
        <span style="color:#f92672">&#34;name&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;keyword&#34;</span> },
        <span style="color:#f92672">&#34;noNamespaceSchemaLocation&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;text&#34;</span> },
        <span style="color:#f92672">&#34;skipped&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;integer&#34;</span> },
        <span style="color:#f92672">&#34;tests&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;integer&#34;</span> },
        <span style="color:#f92672">&#34;time&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;double&#34;</span> },
        <span style="color:#f92672">&#34;xsi&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;text&#34;</span> },
        <span style="color:#f92672">&#34;appName&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;keyword&#34;</span> },
        <span style="color:#f92672">&#34;org&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;keyword&#34;</span> },
        <span style="color:#f92672">&#34;version&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;keyword&#34;</span> },
        <span style="color:#f92672">&#34;timestamp&#34;</span>: { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;date&#34;</span> }
      }
      }
    }
}
</code></pre></div></li>
<li>
<p>An initial client for sending data to Kibana is available at (<a href="https://github.com/pmuir/junit-runner)">https://github.com/pmuir/junit-runner)</a>. Download it and get it building.
As we start to convert the functionality we&rsquo;ve built so far to a Jenkins X extension, we&rsquo;ll move the scripted code we&rsquo;ve written so far into this Go program. For now, we can just use the current version.</p>
</li>
<li>
<p>Add this function to <code>junit.sh</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
<span style="color:#66d9ef">function</span> dashboard<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    curl https://github.com/pmuir/junit-runner/releases/download/v0.0.4/junit-runner &gt; junit-runner
    chmod u+x junit-runner
    ./junit-runner
<span style="color:#f92672">}</span>
</code></pre></div><p>and call it from <code>upload()</code>. Push your changes to the sample repo and watch as Kibana starts to be populated with data.</p>
</li>
</ol>
<h3 id="a-better-way-to-build-functionality">A better way to build functionality</h3>
<p>If you have built plugins for something like Jenkins or Eclipse, you will be used to building the functionality you need to run &ldquo;in process&rdquo; - inside the main process that the application is running (e.g. the Jenkins master). More recently a different approach to writing plugins has become more popular where you build the functionality as a separate process that is managed by the main process; this is the model used by VS Code for example. We would recommend using this approach in Jenkins X, and because Jenkins X is based on Kubernetes, that means using a separate container or Pod to build your functionality, and calling out to using REST APIs.</p>
<p>In this case that means that it would be better to build the functionality we created in <code>junit-runner</code> into a separate pod, rather than run it inside the build pod. As it so happens we already have a pod - the one we built to store and serve the test artifacts.</p>
<p>Let&rsquo;s open that project up, and move the code which transforms the JUnit XML and sends it to elastic search into it.</p>
<ol>
<li>
<p>Open the <code>main.go</code> file and add this function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">toJson</span>(<span style="color:#a6e22e">json</span> []<span style="color:#66d9ef">byte</span>) ([]<span style="color:#66d9ef">byte</span>, <span style="color:#66d9ef">error</span>) {
  <span style="color:#a6e22e">m</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">mxj</span>.<span style="color:#a6e22e">NewMapJson</span>(<span style="color:#a6e22e">json</span>)
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
  }

  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
  }
  <span style="color:#75715e">// Kibana is quite restrictive in the way it accepts JSON, so just rebuild the JSON entirely!
</span><span style="color:#75715e"></span>
  <span style="color:#a6e22e">utc</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">LoadLocation</span>(<span style="color:#e6db74">&#34;UTC&#34;</span>)
  <span style="color:#a6e22e">data</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{} {
    <span style="color:#e6db74">&#34;org&#34;</span>: <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Getenv</span>(<span style="color:#e6db74">&#34;ORG&#34;</span>),
    <span style="color:#e6db74">&#34;appName&#34;</span>: <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Getenv</span>(<span style="color:#e6db74">&#34;APP_NAME&#34;</span>),
    <span style="color:#e6db74">&#34;version&#34;</span>: <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Getenv</span>(<span style="color:#e6db74">&#34;VERSION&#34;</span>),
    <span style="color:#e6db74">&#34;errors&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-errors&#34;</span>),
    <span style="color:#e6db74">&#34;failures&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-failures&#34;</span>),
    <span style="color:#e6db74">&#34;testsuiteName&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-name&#34;</span>),
    <span style="color:#e6db74">&#34;skippedTests&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-skipped&#34;</span>),
    <span style="color:#e6db74">&#34;tests&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-tests&#34;</span>),
    <span style="color:#e6db74">&#34;time&#34;</span>: <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">ValueOrEmptyForPathString</span>(<span style="color:#e6db74">&#34;testsuite.-time&#34;</span>),
    <span style="color:#e6db74">&#34;timestamp&#34;</span>: <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Now</span>().<span style="color:#a6e22e">In</span>(<span style="color:#a6e22e">utc</span>).<span style="color:#a6e22e">Format</span>(<span style="color:#e6db74">&#34;2006-01-02T15:04:05Z&#34;</span>),
    <span style="color:#75715e">// TODO Add the TestCases
</span><span style="color:#75715e"></span>  }
  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">data</span>)
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">json2</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">data</span>)
}
</code></pre></div><p>This function comes directly from the <code>junit-runner</code> code and is responsible for building a piece of JSON that is used by Kibana.</p>
</li>
<li>
<p>We also need to add this function from the <code>junit-runner</code> code which reads the XML file, converts it to JSON using <code>toJson()</code>, and then sends it onwards to our ElasticSearch instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">sendToElasticSearch</span>(<span style="color:#a6e22e">reader</span> <span style="color:#a6e22e">io</span>.<span style="color:#a6e22e">Reader</span>, <span style="color:#a6e22e">path</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">error</span> {
  <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">json</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">x2j</span>.<span style="color:#a6e22e">XmlReaderToJson</span>(<span style="color:#a6e22e">reader</span>)
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
  }
  <span style="color:#a6e22e">json</span>, <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">toJson</span>(<span style="color:#a6e22e">json</span>)
  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Successfully annnotated JUnit result with build info\n&#34;</span>)
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
  }
  <span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">NewRequest</span>(<span style="color:#e6db74">&#34;POST&#34;</span>, <span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">bytes</span>.<span style="color:#a6e22e">NewBuffer</span>(<span style="color:#a6e22e">json</span>))

  <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>)

  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
  }

  <span style="color:#a6e22e">client</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Client</span>{}
  <span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">Do</span>(<span style="color:#a6e22e">req</span>)
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
  }
  <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Body</span>.<span style="color:#a6e22e">Close</span>()
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">StatusCode</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">200</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">StatusCode</span> &lt; <span style="color:#ae81ff">300</span> ) {
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Sent %s to %s\n&#34;</span>, <span style="color:#a6e22e">path</span>, <span style="color:#a6e22e">url</span>)
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">ReadAll</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Body</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;HTTP status: %s; HTTP Body: %s\n&#34;</span>, <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">Status</span>, <span style="color:#a6e22e">body</span>))
  }
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}
</code></pre></div><p>Finally, we need to add a const to the go file which specifies the URL of the ElasticSearch instance. Add this to the top of <code>main.go</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;http://jenkins-x-reports-elasticsearch-client:9200/tests/junit/&#34;</span>
</code></pre></div></li>
<li>
<p>Once you&rsquo;ve resolved all the imports, you&rsquo;ll notice that we still have some errors. That&rsquo;s because we are missing a dependency on the <code>mxj</code> library which we are using to work with XML and JSON. Make sure you have these imports:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">  <span style="color:#e6db74">&#34;github.com/clbanning/mxj&#34;</span>
  <span style="color:#e6db74">&#34;github.com/clbanning/mxj/x2j&#34;</span>
  <span style="color:#a6e22e">json2</span> <span style="color:#e6db74">&#34;encoding/json&#34;</span>
</code></pre></div><p>And then add this by running <code>dep init</code> which will detect our dependency and set it up properly.</p>
</li>
<li>
<p>We&rsquo;ll also need to call it for each JUnit XML file we receive. And only for JUnit files. We can use the HTTP headers for this:
Just above where we write the success message to the HTTP stream, add this code to call <code>sendToElasticSearch()</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;X-Content-Type&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;text/vnd.junit-xml&#34;</span> {
      <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">sendToElasticSearch</span>(<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Body</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">Path</span>)
      <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;CANT_SEND_TO_ELASTICSEATCH&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
      }
    }
</code></pre></div><p>Push your changes up to Git to have the updated server built on Jenkins X.</p>
</li>
<li>
<p>We now need to modify our script to send JUnit XML files with the mime type set to <code>text/vnd.junit-xml</code>. In the <code>junit.sh</code> file in the sample project modify the curl command in <code>upload_file()</code> to add the header. The whole line should look like:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    curl -H <span style="color:#e6db74">&#34;X-Content-Type: text/vnd.junit-xml&#34;</span> -s -F upload<span style="color:#f92672">=</span>@$1 http://jenkins-x-reports-upload.jx-production/$path
</code></pre></div><p>If you are wondering why we use <code>X-Content-Type</code> it is to avoid breaking the multipart form upload for the file!</p>
</li>
<li>
<p>And of course we need to remove <code>junit-runner</code>. Delete the <code>dashboard()</code> function and remove the call to it from <code>upload()</code>.</p>
</li>
<li>
<p>Now, let&rsquo;s clean things up a bit more by moving the code creating the configmap from the <code>junit.sh</code> script into the <code>jenkins-x-reports</code> code. First, we need to add a dependency on kubernetes-client to our code. Edit <code>Gopkg.toml</code> and add:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[[<span style="color:#a6e22e">constraint</span>]]
  <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;k8s.io/api&#34;</span>
  <span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;kubernetes-1.11.0&#34;</span>

[[<span style="color:#a6e22e">constraint</span>]]
  <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;k8s.io/apimachinery&#34;</span>
  <span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;kubernetes-1.11.0&#34;</span>
[[<span style="color:#a6e22e">constraint</span>]]
  <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;k8s.io/client-go&#34;</span>
  <span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;kubernetes-1.11.0&#34;</span>
</code></pre></div></li>
<li>
<p>Now we can add this function to create the Kubernetes client:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">createKubernetesClient</span>() (<span style="color:#f92672">*</span><span style="color:#a6e22e">kubernetes</span>.<span style="color:#a6e22e">Clientset</span>, <span style="color:#66d9ef">error</span>) {
  <span style="color:#75715e">// creates the in-cluster config
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">config</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rest</span>.<span style="color:#a6e22e">InClusterConfig</span>()
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
  }
  <span style="color:#75715e">// creates the clientset
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">client</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">kubernetes</span>.<span style="color:#a6e22e">NewForConfig</span>(<span style="color:#a6e22e">config</span>)
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">client</span>, <span style="color:#66d9ef">nil</span>
}
</code></pre></div><p>And call it by adding these lines to the top of <code>main()</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">  <span style="color:#a6e22e">client</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">createKubernetesClient</span>()
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    panic(<span style="color:#a6e22e">err</span>)
  }
</code></pre></div></li>
<li>
<p>We now need to pass it to the <code>uploadServer()</code> function and change the signature of <code>uploadServer()</code> to <code>func uploadServer(client *kubernetes.Clientset)</code>, and then do the same to <code>uploadFileHandler()</code>, changing the signature to <code>func uploadServer(client *kubernetes.Clientset)</code>.</p>
</li>
<li>
<p>Now, we can write a function that gets or creates the configmap:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getOrCreateConfigMap</span>(<span style="color:#a6e22e">org</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">app</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">client</span> <span style="color:#a6e22e">kubernetes</span>.<span style="color:#a6e22e">Interface</span>) (<span style="color:#f92672">*</span><span style="color:#a6e22e">corev1</span>.<span style="color:#a6e22e">ConfigMap</span>, <span style="color:#66d9ef">error</span>) {
  <span style="color:#a6e22e">cmName</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s-%s-test-reports&#34;</span>, <span style="color:#a6e22e">org</span>, <span style="color:#a6e22e">app</span>)
  <span style="color:#a6e22e">cm</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">CoreV1</span>().<span style="color:#a6e22e">ConfigMaps</span>(<span style="color:#a6e22e">cmNamespace</span>).<span style="color:#a6e22e">Get</span>(<span style="color:#a6e22e">cmName</span>, <span style="color:#a6e22e">metav1</span>.<span style="color:#a6e22e">GetOptions</span>{})
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
  }
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">cm</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">CoreV1</span>().<span style="color:#a6e22e">ConfigMaps</span>(<span style="color:#a6e22e">cmNamespace</span>).<span style="color:#a6e22e">Create</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">corev1</span>.<span style="color:#a6e22e">ConfigMap</span>{
      <span style="color:#a6e22e">ObjectMeta</span>: <span style="color:#a6e22e">metav1</span>.<span style="color:#a6e22e">ObjectMeta</span>{
        <span style="color:#a6e22e">Name</span>: <span style="color:#a6e22e">cmName</span>,
      },
    })
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
    }
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">cm</span>, <span style="color:#66d9ef">nil</span>
}
</code></pre></div></li>
<li>
<p>In order to pass the org name and the app name to the config map creator, we can pass them using HTTP Headers. We can call the config map creation from the <code>uploadFileHandler()</code>, just before we write success by adding these lines to the top of the function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">    <span style="color:#75715e">// Get and validate headers
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">org</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;X-Org&#34;</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">org</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;MUST_PROVIDE_X-ORG_HEADER&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;No X-ORG HEADER provided&#34;</span>)
    }
    <span style="color:#a6e22e">app</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;X-App&#34;</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
      <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;MUST_PROVIDE_X-APP_HEADER&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
      <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;No X-APP HEADER provided&#34;</span>)
    }
</code></pre></div><p>And this to the bottom, just above the success message:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">getOrCreateConfigMap</span>(<span style="color:#a6e22e">org</span>, <span style="color:#a6e22e">app</span>, <span style="color:#a6e22e">client</span>)
</code></pre></div><p>And before we forget, update the <code>junit.sh</code> script to send these values. The curl command should now look like <code>curl -H &quot;X-Content-Type: text/vnd.junit-xml&quot; -H &quot;X-ORG: ${ORG}&quot; -H &quot;X-APP: ${APP_NAME} -s -F upload=@$1</code>.</p>
</li>
<li>
<p>Now, let&rsquo;s implement the function <code>updateConfigMap()</code> to perform the actual patch. Use this function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">updateConfigMap</span>(<span style="color:#a6e22e">cm</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">corev1</span>.<span style="color:#a6e22e">ConfigMap</span>, <span style="color:#a6e22e">version</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">filename</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">url</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">client</span> <span style="color:#a6e22e">kubernetes</span>.<span style="color:#a6e22e">Interface</span>) (<span style="color:#f92672">*</span><span style="color:#a6e22e">corev1</span>.<span style="color:#a6e22e">ConfigMap</span>, <span style="color:#66d9ef">error</span>){
  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Updating %s with data for %s and Data %s\n&#34;</span>, <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#a6e22e">version</span>, <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Data</span> )
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#a6e22e">version</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
    <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#a6e22e">version</span>] = <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;|-\n&#34;</span>)
  }
  <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#a6e22e">version</span>] = <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s\n    %s: %s\n&#34;</span>, <span style="color:#a6e22e">cm</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#a6e22e">version</span>], <span style="color:#a6e22e">filename</span>, <span style="color:#a6e22e">url</span>)
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">CoreV1</span>().<span style="color:#a6e22e">ConfigMaps</span>(<span style="color:#a6e22e">cmNamespace</span>).<span style="color:#a6e22e">Update</span>(<span style="color:#a6e22e">cm</span>)
}
</code></pre></div></li>
<li>
<p>Now we need to figure out the host URL for the report downloads. Use this function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getReportHost</span>(<span style="color:#a6e22e">client</span> <span style="color:#a6e22e">kubernetes</span>.<span style="color:#a6e22e">Interface</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">error</span>) {
  <span style="color:#a6e22e">svc</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">CoreV1</span>().<span style="color:#a6e22e">Services</span>(<span style="color:#e6db74">&#34;jx-production&#34;</span>).<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;jenkins-x-reports&#34;</span>, <span style="color:#a6e22e">metav1</span>.<span style="color:#a6e22e">GetOptions</span>{})
  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#a6e22e">err</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">svc</span>.<span style="color:#a6e22e">Annotations</span>[<span style="color:#e6db74">&#34;fabric8.io/exposeUrl&#34;</span>], <span style="color:#66d9ef">nil</span>
}
</code></pre></div></li>
<li>
<p>We now need to wire it in. Add a version header to the top of the <code>uploadFileHandler()</code> function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">version</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Header</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;X-Version&#34;</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">version</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
  <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;MUST_PROVIDE_X-VERSION_HEADER&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
  <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;No X-VERSION HEADER provided&#34;</span>)
}
</code></pre></div><p>And add just above the success message:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cm</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getOrCreateConfigMap</span>(<span style="color:#a6e22e">org</span>, <span style="color:#a6e22e">app</span>, <span style="color:#a6e22e">client</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;ERROR_CREATING_CONFIG_MAP&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
    }
    <span style="color:#a6e22e">reportHost</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getReportHost</span>(<span style="color:#a6e22e">client</span>)
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;ERROR_CREATING_CONFIG_MAP&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
    }

    <span style="color:#a6e22e">url</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s/%s/%s/%s/%s&#34;</span>, <span style="color:#a6e22e">reportHost</span>, <span style="color:#a6e22e">org</span>, <span style="color:#a6e22e">app</span>, <span style="color:#a6e22e">version</span>, <span style="color:#a6e22e">filename</span>)
    <span style="color:#a6e22e">cm</span>, <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">updateConfigMap</span>(<span style="color:#a6e22e">cm</span>, <span style="color:#a6e22e">version</span>, <span style="color:#a6e22e">filename</span>, <span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">client</span> )
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
        <span style="color:#a6e22e">renderError</span>(<span style="color:#a6e22e">w</span>, <span style="color:#e6db74">&#34;ERROR_UPDATING_CONFIG_MAP&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
    }
</code></pre></div></li>
<li>
<p>We can also improve the way we are storing the files now, using the headers to create the path rather than just copying the path that was used for upload by changing the variable <code>dir</code> to look more like <code>dir := filepath.Join(uploadPath, org, app, version)</code></p>
</li>
<li>
<p>Finally, let&rsquo;s tidy up <code>junit.sh</code> by removing the remnants of the patching code and adding the version header. Your final curl command should look like: <code>    curl -H &quot;X-Content-Type: text/vnd.junit-xml&quot; -H &quot;X-Org: ${ORG}&quot; -H &quot;X-App: ${APP_NAME}&quot; -H &quot;X-Version: ${VERSION}&quot; -s -F upload=@$1 http://jenkins-x-reports-upload.jx-production/$filename</code></p>
</li>
</ol>
<h2 id="progress-review">Progress Review</h2>
<p>We still have some steps to complete.</p>
<ul>
<li>Add token based authentication for the upload endpoint to prevent random pieces of code updating it (it&rsquo;s only accessible in the cluster anyway)</li>
<li>Allow contribution to build health (requires additional JX support <code>jx step post</code> and <code>jx step pre</code>)</li>
</ul>
<p>At this point the JX team have also learned that we want to build some additional extension points into Jenkins X:</p>
<ul>
<li>A <code>jx step post</code> support for a &lsquo;post build` steps. This will allow us to implement build health, as it will allow us to:
<ul>
<li>Inject additional steps into the build that allow us to run e.g. <code>mvn surefire-report:report</code> without modifying the build</li>
</ul>
</li>
<li><code>jx step collect</code> for collecting build artifact that will run even if the build fails
<ul>
<li>Add URLs to the <code>PipelineActivity</code> CRD</li>
</ul>
</li>
</ul>
<p>TODO complete the guide</p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/jenkins-x/jx/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/jenkins-x/jx/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: (value === 1) ? 'Helpful' : 'Unhelpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified June 9, 2020: <a  href="https://github.com/jenkins-x/jx-docs/commit/6ace7162f99010d67698b28b0df0d1ad40637e4e">release 0.0.1755 (6ace716)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 d-print-none">
  <div class="container-fluid mx-sm-12">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack Signup" aria-label="Slack Signup">
    <a class="text-white" target="_blank" href="http://slack.k8s.io/">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User Slack Channel" aria-label="User Slack Channel">
    <a class="text-white" target="_blank" href="https://kubernetes.slack.com/messages/C9MBGQJRH">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/jenkinsxio">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Newsletter" aria-label="Newsletter">
    <a class="text-white" target="_blank" href="/community/">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-7 col-sm-7 text-right text-xs-right order-sm-6">
        <p>
          <small class="text-white">Copyright &copy; 2020 The Jenkins X Authors. All Rights Reserved</small>
          <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a></small>
        </p>
        <p>
          <small class="text-white">
            Copyright &copy; 2020 The Linux Foundation®. All rights reserved.<br/>
            The Linux Foundation has registered trademarks and uses trademarks.
            For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page.<br/>
            Linux is a registered trademark of Linus Torvalds.<br/>
            Linux Foundation <a href="http://www.linuxfoundation.org/privacy">Privacy Policy</a> and <a href="http://www.linuxfoundation.org/terms">Terms of Use</a>
          </small>
        </p>
      </div>

    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>





<script src="/js/main.min.e5b99422293e78c5f02bab3622bd8c1498b95a1a71ec8eeccf48fb97beaa63d7.js" integrity="sha256-5bmUIik&#43;eMXwK6s2Ir2MFJi5Whpx7I7sz0j7l76qY9c=" crossorigin="anonymous"></script>

<script>
  docsearch({
    apiKey: '8904bbd3ca621bef472e3de7e0e29532',
    indexName: 'jenkins_x',
    inputSelector: '#search-input',
    algoliaOptions: { 'facetFilters': ["lang:en"] },
    debug: false
  });
</script>
<script>hljs.initHighlightingOnLoad();</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-154682132-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-154682132-3');
</script>
<script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us7.list-manage.com","uuid":"d0c128ac1f69ba2bb20742976","lid":"84d053b0a0","uniqueMethods":true}) })</script>

  </body>
</html>